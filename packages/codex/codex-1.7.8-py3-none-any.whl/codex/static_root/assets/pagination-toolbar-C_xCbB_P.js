import{p as ie,J as _e,g as me,d as at,t as E,u as he,a as o,aW as Ve,_ as T,l as u,v as f,V as Se,y as ne,w as L,a5 as we,m as Y,C as re,L as N,aX as st,n as v,x as te,H as m,z as O,aw as it,aY as nt,aZ as rt,af as ke,az as ot,k as _,a_ as lt,a$ as ut,A as oe,b0 as dt,b1 as ct,j as mt,Z as Fe,E as G,s as ae,q as h,F as pe,U as ht,ar as pt,ae as ft,a9 as De,ab as vt,ac as gt,b2 as bt,aa as kt,X as yt,c as g,b3 as Re,aQ as Ce,aS as Ne,r as ye,b4 as _t,aU as St,b5 as Ee,i as Oe,e as Q,S as Le,ai as wt,aL as Ct,b6 as Tt,b as Mt}from"./main-DTZJMtFc.js";import{w as Bt,k as ze,V as fe,n as Vt,i as Rt,x as Nt,R as Lt,y as It,u as xt,j as Pt,e as Ie}from"./forwardRefs-CqAlwRH5.js";import{a as $t,c as Ft,d as Dt,V as Et}from"./VDialog-D52uED8h.js";import{c as Ot,d as zt}from"./VSelect-JGx0H8YY.js";import{C as At}from"./change-password-dialog-sLOp6TLK.js";import{d as Gt,f as Ut,m as jt,g as qt,u as Ht,h as xe,i as Kt}from"./VSelectionControl-CrqDqLVW.js";import{V as Ae}from"./VTable-Do_SF0VB.js";import{C as Ge}from"./confirm-dialog-oZvPeyCw.js";import{P as Wt,a as Yt}from"./unauthorized-DJAN2cQL.js";const Zt=ie({..._e(),...Bt({variant:"text"})},"VToolbarItems"),si=me()({name:"VToolbarItems",props:Zt(),setup(e,t){let{slots:a}=t;return at({VBtn:{color:E(e,"color"),height:"inherit",variant:E(e,"variant")}}),he(()=>{var n;return o("div",{class:["v-toolbar-items",e.class],style:e.style},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),be=new Set(["",Ve,Ve.toString(),void 0]),Xt=function(e){let t;if(be.has(e))t=e;else if(e instanceof Object)if("ids"in e){const a=new Set(e.ids);be.intersection(a).size>0?t=void 0:t={value:e.ids.join(","),title:e.name}}else be.has(e.pk)?t=void 0:t={value:e.pk,title:e.name};else t={value:e,title:e.toString()};return e!=null&&e.url&&(t.url=e.url),t},Qt=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},Jt=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},ea=function(e,t,a=!1){var l;const n=e||[],r=t&&t.toLowerCase();let s=[];for(const c of n){const p=Xt(c);p!=null&&(!r||(l=p==null?void 0:p.title)!=null&&l.toLowerCase().includes(r))&&s.push(p)}const i=a?Jt:Qt;return s.sort(i)},ta={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function aa(e,t,a,n,r,s){return u(),f(Ot,Y(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:s.style,variant:"plain"}),Se({item:L(({item:i,props:l})=>[o($t,Y(l,{density:"compact",variant:"plain",title:i.title,value:i.value}),null,16,["title","value"])]),_:2},[ne(e.$slots,(i,l)=>({name:l,fn:L(c=>[we(e.$slots,l,Y({props:i},c),void 0,!0)])}))]),1040,["label","aria-label","style"])}const ii=T(ta,[["render",aa],["__scopeId","data-v-e88da460"]]),ni=Ft("v-spacer","div","VSpacer"),sa={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...re(N,["coverSettings"]),coverSrc(){return st({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},ia={class:"bookCover"},na={key:1,class:"childCount"};function ra(e,t,a,n,r,s){return u(),v("div",ia,[o(Dt,{src:s.coverSrc,class:te(["coverImg",s.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(u(),v("div",{key:0,class:te({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):m("",!0),a.group!=="c"?(u(),v("span",na,O(a.childCount),1)):m("",!0)])}const oa=T(sa,[["render",ra],["__scopeId","data-v-39e3a9f8"]]),la=10,ua={name:"DownloadButton",components:{ConfirmDialog:Ge},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},data(){return{mdiDownload:it}},computed:{...re(N,["filterOnlySettings","groupNames"]),show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},isOneComic(){var e,t,a;return((e=this.item)==null?void 0:e.group)==="c"&&((a=(t=this.item)==null?void 0:t.ids)==null?void 0:a.length)===1},downloadFn(){var e;return this.isOneComic?this.item.name:`${this.groupNames[(e=this.item)==null?void 0:e.group]} - ${this.item.name} Comics.zip`},downloadURL(){var t,a,n,r;let e="";if(this.isOneComic){const s=this.item.ids[0];e=nt({pk:s},this.downloadFn,(t=this.item)==null?void 0:t.mtime)}else{const s=(a=this.item)==null?void 0:a.group,i=(n=this.item)==null?void 0:n.ids,l=this.filterOnlySettings;e=rt({group:s,pks:i},this.downloadFn,l,(r=this.item)==null?void 0:r.mtime)}return e},formattedChildren(){var e;return ke.format((e=this.item)==null?void 0:e.childCount)},title(){let e="Download";return e+=this.isOneComic?" Book":` ${this.formattedChildren} Books`,e},confirm(){var e;return((e=this.item)==null?void 0:e.childCount)>la},confirmText(){return this.confirm?`Download ${this.formattedChildren} books`:""}},methods:{download(){const e=this.downloadURL,t=this.downloadFn;if(this.isOneComic)ot(e,t);else{const a=document.createElement("a");a.download=this.downloadFn,a.href=this.downloadURL,a.click(),a.remove()}}}};function da(e,t,a,n,r,s){const i=_("ConfirmDialog");return s.show?(u(),f(i,{key:0,button:a.button,"button-text":s.title,confirm:s.confirm,"confirm-text":"Download","prepend-icon":r.mdiDownload,"title-text":s.title,text:"May take a while",onConfirm:s.download},null,8,["button","button-text","confirm","prepend-icon","title-text","onConfirm"])):m("",!0)}const ca=T(ua,[["render",da],["__scopeId","data-v-b589c090"]]),ma=1,ha={name:"MarkReadButton",components:{ConfirmDialog:Ge},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},computed:{...re(N,["groupNames"]),verb(){return this.item.finished?"Unread":"Read"},confirm(){return this.item.children>ma},show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},icon(){return this.item.finished?lt:ut},confirmText(){return this.confirm?`Mark ${this.verb}`:""},markReadText(){const e=["Mark"];this.item.group!="c"&&e.push("Entire");const t=this.groupNames[this.item.group];return e.push(t,this.verb),e.join(" ")},itemName(){return this.item.name||"(Empty)"}},methods:{...oe(N,["setBookmarkFinished"]),toggleRead:function(){this.setBookmarkFinished(this.item,!this.item.finished)}}};function pa(e,t,a,n,r,s){const i=_("ConfirmDialog");return s.show?(u(),f(i,{key:0,button:a.button,"button-text":s.markReadText,confirm:s.confirm,"confirm-text":s.confirmText,"prepend-icon":s.icon,"title-text":s.markReadText,text:s.itemName,onConfirm:s.toggleRead},null,8,["button","button-text","confirm","confirm-text","prepend-icon","title-text","text","onConfirm"])):m("",!0)}const fa=T(ha,[["render",pa],["__scopeId","data-v-c904f535"]]),va=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ga=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],ba=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ka=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Pe=(e,t,a)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(n=e.toLocaleString(void 0,a)),n};function Ue(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?ka:ba:t.binary?ga:va,n=t.space?" ":"";if(t.signed&&e===0)return` 0${n}${a[0]}`;const r=e<0,s=r?"-":t.signed?"+":"";r&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i={maximumFractionDigits:t.maximumFractionDigits,...i}),e<1){const k=Pe(e,t.locale,i);return s+k+n+a[0]}const l=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),a.length-1);e/=(t.binary?1024:1e3)**l,i||(e=e.toPrecision(3));const c=Pe(Number(e),t.locale,i),p=a[l];return s+c+n+p}const je=["creators","writers","pencillers","inkers","cover_artists","colorists","letterers","editors"];Object.freeze(je);const qe=["genres","characters","teams","locations","seriesGroups","stories","storyArcNumbers","tags"];Object.freeze(qe);const Z=dt("metadata",{state:()=>({md:void 0}),getters:{_mappedContributors(e){var a;const t={};if(!((a=e==null?void 0:e.md)!=null&&a.contributors))return t;for(const{role:n,person:r}of e.md.contributors){const s=n.name+"s";s in t||(t[s]=[]),t[s].push(r)}return t},_sortedRoles(e){let t=[];const a=new Set(Object.keys(e._mappedContributors));for(const r of je)a.has(r)&&(t.push(r),a.delete(r));const n=[...a].sort();return[...t,...n]},contributors(e){return this.mapTag(e._mappedContributors,e._sortedRoles,"contributors")},tags(e){return e.mapTag(e.md,qe)}},actions:{async loadMetadata({group:e,pks:t}){await ct.getMetadata({group:e,pks:t},N().metadataSettings).then(a=>{const n={...a.data};return n.loaded=!0,this.md=n,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0},mapTag(e,t,a){const n={};for(const r of t){let s=e[r];if(!(s!=null&&s.length))continue;let i;a?i=a:r==="storyArcNumbers"?i="storyArcs":i=r;const l=mt(r);s=s.sort((c,p)=>c.name.localeCompare(p.name)),n[l]={filter:i,tags:s}}return n}}}),ya=new Set(["p","i","s","v"]),_a={name:"MetadataTags",props:{item:{type:Object,required:!0},filter:{type:String,default:""}},data(){return{mdiOpenInNew:Fe}},computed:{...G(N,{browserShow:e=>e.settings.show,filterValues(e){return e.settings.filters[this.filter]},topGroup:e=>e.settings.topGroup}),...G(Z,{mdGroup:e=>e.md.group,mdIds:e=>e.md.ids}),groupMode(){return ya.has(this.filter)},clickable(){return this.filter&&this.item.value&&(!this.groupMode||this.browserShow[this.filter])},classes(){return{clickable:(this.clickable||this.item.url)&&!this.highlight}},highlight(){var e;return!!(this.groupMode&&this.filter===this.mdGroup&&this.mdIds.includes(this.item.value)||(e=this.filterValues)!=null&&e.includes(this.item.value))},variant(){return this.highlight?"flat":"tonal"},color(){const e=this.$vuetify.theme.current.colors;return this.highlight?e["primary-darken-1"]:""},linkGroup(){let e;return this.groupMode?e=this.filter:e=["f","s"].includes(this.topGroup)?this.topGroup:"r",e},linkPks(){return this.groupMode||this.linkGroup!=="a"&&this.filter==="storyArcs"?this.item.value.toString():"0"},toRoute(){if(!this.clickable)return"";const e=this.linkGroup,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){let e;return this.linkPks==="0"?e={filters:{[this.filter]:[this.item.value]}}:e={topGroup:this.getTopGroup(this.linkGroup)},e}},methods:{...oe(N,["routeWithSettings","getTopGroup"]),async onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Sa=["href"],wa={key:1};function Ca(e,t,a,n,r,s){return u(),f(zt,{class:te(s.classes),color:s.color,value:a.item.value,variant:s.variant,onClick:s.onClick},{default:L(()=>[a.item.url?(u(),v("a",{key:0,href:a.item.url,target:"_blank"},[ae(O(a.item.title),1),o(ze,null,{default:L(()=>[ae(O(r.mdiOpenInNew),1)]),_:1})],8,Sa)):(u(),v("span",wa,O(a.item.title),1))]),_:1},8,["class","color","value","variant","onClick"])}const Ta=T(_a,[["render",Ca],["__scopeId","data-v-f7f340e4"]]),Ma={name:"MetadataTags",components:{MetadataChip:Ta},props:{label:{type:String,default:""},values:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},computed:{items(){return ea(this.values)}}},Ba={key:0,class:"tags"},Va={key:0,class:"chipGroupLabel"},Ra={class:"chips"};function Na(e,t,a,n,r,s){var l;const i=_("MetadataChip");return((l=s.items)==null?void 0:l.length)>0?(u(),v("div",Ba,[a.label?(u(),v("div",Va,O(a.label),1)):m("",!0),h("div",Ra,[(u(!0),v(pe,null,ne(s.items,c=>(u(),f(i,{key:`${a.filter}/${c.value}`,filter:a.filter,item:c},null,8,["filter","item"]))),128))])])):m("",!0)}const Te=T(Ma,[["render",Na],["__scopeId","data-v-50d7acc6"]]),La={name:"MetadataExpandButton"};function Ia(e,t,a,n,r,s){return u(),f(fe,{density:"compact",text:"...expand",variant:"text"})}const xa=T(La,[["render",Ia]]),$e="(Empty)",Pa={name:"MetadataTextBox",components:{ExpandButton:xa},props:{group:{type:String,default:""},highlight:{type:Boolean,default:!1},label:{type:String,default:""},maxHeight:{type:Number,default:0},value:{type:[Object,String,Number,Boolean],default:void 0}},data(){return{mdiOpenInNew:Fe,expanded:!1,mounted:!1}},computed:{...re(N,["groupNames"]),...G(N,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group&&this.computedValue===""?e=$e:this.group==="f"&&this.computedValue?e=this.computedValue.slice(0,Math.max(0,this.lastSlashIndex)):this.group==="v"&&this.computedValue?e=ht(this.computedValue):e=this.computedValue,e},empty(){return this.displayValue===$e},textValueStyles(){const e=this.maxHeight>0&&!this.expanded?this.maxHeight:0;return e?"max-height: "+e+"px;":""},textValueRefName(){return"mdTextValue"+this.label.replaceAll(" ","")},isOverflow(){if(!this.mounted)return!1;const e=this.$refs[this.textValueRefName];return e?e.clientHeight<e.scrollHeight:!1},showExpandButton(){return!this.expanded&&this.maxHeight>0&&this.isOverflow},linkPks(){return(this.value.ids||[this.value.pk]).join(",")},clickable(){var t;const e=this.$router.currentRoute.value.params;return!this.group||e.group===this.group||this.group==="f"&&!this.folderViewEnabled||!["a","f"].includes(this.group)&&!this.browserShow[this.group]?!1:!!((t=this.linkPks)!=null&&t.length)},classes(){return{clickable:this.clickable,highlight:this.highlight}},toRoute(){if(!this.clickable)return"";const e=this.group,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){return{topGroup:this.getTopGroup(this.group)}},title(){let e;return this.label?e=this.label:this.group?e=this.groupNames[this.group]:e="",this.toRoute?`Browse to ${e}`:e},baseName(){return this.group==="f"?this.computedValue.slice(Math.max(0,this.lastSlashIndex)):""}},mounted(){this.mounted=!0},methods:{...oe(N,["routeWithSettings","getTopGroup"]),onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},$a={key:0,class:"text"},Fa={key:0,class:"textLabel"},Da=["title"],Ea={key:0,class:"textContent"};function Oa(e,t,a,n,r,s){const i=_("ExpandButton");return s.displayValue?(u(),v("div",$a,[a.label?(u(),v("div",Fa,[ae(O(a.label)+" ",1),s.showExpandButton?(u(),f(i,{key:0,class:"expandButton",onClick:t[0]||(t[0]=l=>r.expanded=!0)})):m("",!0)])):m("",!0),o(Gt,null,{default:L(()=>[h("div",null,[h("div",{ref:s.textValueRefName,class:te(["textValue",{empty:s.empty}]),style:pt(s.textValueStyles)},[h("span",{class:te(["textContent",s.classes]),title:s.title,onClick:t[1]||(t[1]=(...l)=>s.onClick&&s.onClick(...l))},O(s.displayValue),11,Da),s.baseName?(u(),v("span",Ea,O(s.baseName),1)):m("",!0)],6),s.showExpandButton&&!a.label?(u(),f(i,{key:0,class:"expandButton",onClick:t[2]||(t[2]=l=>r.expanded=!0)})):m("",!0)])]),_:1})])):m("",!0)}const He=T(Pa,[["render",Oa],["__scopeId","data-v-c45f1265"]]),za={name:"MetadataTagsTable",components:{MetadataTags:Te},props:{tagMap:{type:Object,required:!0}},computed:{show(){return Object.keys(this.tagMap).length>0}}},Aa={class:"key"},Ga={class:"tags"};function Ua(e,t,a,n,r,s){const i=_("MetadataTags");return s.show?(u(),f(Ae,{key:0},{default:L(()=>[h("tbody",null,[(u(!0),v(pe,null,ne(Object.entries(a.tagMap),([l,{filter:c,tags:p}])=>(u(),v("tr",{key:l},[h("td",Aa,O(l),1),h("td",Ga,[o(i,{filter:c,values:p},null,8,["filter","values"])])]))),128))])]),_:1})):m("",!0)}const ja=T(za,[["render",Ua],["__scopeId","data-v-d1e9237e"]]),qa={name:"MetadataBody",components:{MetadataTagsTable:ja,MetadataTags:Te,MetadataText:He},props:{group:{type:String,required:!0},book:{type:Object,required:!0}},computed:{...re(Z,["contributors","ratings","tags"]),...G(N,{twentyFourHourTime:e=>{var t;return(t=e.settings)==null?void 0:t.twentyFourHourTime},readingDirectionTitles:e=>e.choices.static.readingDirection,identifierTypes:e=>e.choices.static.identifierType}),...G(Z,{md:e=>e.md}),readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?Ue(this.md.size):0},sizeLabel(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.group)==="c"?"Size":"Total Size"},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"},titledIdentifiers(){var t;const e=[];if(!((t=this==null?void 0:this.md)!=null&&t.identifiers))return e;for(const a of this.md.identifiers){const n=a.name.split(":"),r=n[0],s=n[1],i=this.identifierTypeTitle(r);let l="";i&&i!=="None"&&(l+=i+":"),l+=s,e.push({...a,name:l})}return e},showRatings(){return this.md.communityRating||this.md.criticRating||this.md.ageRating}},methods:{...oe(N,["identifierTypeTitle"]),formatDateTime(e){return ft(e,this.twentyFourHourTime)}}},Ha={id:"metadataBody"},Ka={class:"mdSection"},Wa={class:"mdSection"},Ya={class:"quarterRow"},Za={class:"thirdRow"},Xa={class:"lastSmallRow"},Qa={class:"halfRow mdSection"},Ja={class:"mdSection"},es={key:0},ts={key:1},as={key:2},ss={class:"mdSection"},is={class:"inlineRow"},ns={class:"inlineRow"};function rs(e,t,a,n,r,s){const i=_("MetadataText"),l=_("MetadataTagsTable"),c=_("MetadataTags");return u(),v("div",Ha,[h("section",Ka,[o(i,{value:e.md.summary,"max-height":100},null,8,["value"]),o(i,{value:e.md.review,label:"Review","max-height":100},null,8,["value"])]),o(l,{"tag-map":e.contributors,class:"mdSection"},null,8,["tag-map"]),h("section",Wa,[h("div",Ya,[e.md.createdAt?(u(),f(i,{key:0,value:s.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):m("",!0),e.md.updatedAt?(u(),f(i,{key:1,value:s.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):m("",!0),o(i,{value:s.size,label:s.sizeLabel},null,8,["value","label"]),o(i,{value:s.fileType,label:"File Type"},null,8,["value"])]),h("div",Za,[o(i,{label:"Reading Direction",value:s.readingDirectionText},null,8,["value"]),o(i,{value:e.md.original_format,label:"Original Format"},null,8,["value"]),o(i,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"])]),h("div",Xa,[o(i,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),h("section",Qa,[o(i,{value:e.md.country,label:"Country"},null,8,["value"]),o(i,{value:e.md.language,label:"Language"},null,8,["value"])]),h("section",Ja,[o(c,{values:s.titledIdentifiers,label:"Identifiers"},null,8,["values"])]),s.showRatings?(u(),f(Ae,{key:0,class:"mdSection"},{default:L(()=>[h("tbody",null,[e.md.communityRating?(u(),v("tr",es,[t[0]||(t[0]=h("td",{class:"key"},"Community Rating",-1)),h("td",null,[o(i,{value:e.md.communityRating},null,8,["value"])])])):m("",!0),e.md.criticalRating?(u(),v("tr",ts,[t[1]||(t[1]=h("td",{class:"key"},"Critical Rating",-1)),h("td",null,[o(i,{value:e.md.criticalRating},null,8,["value"])])])):m("",!0),e.md.ageRating?(u(),v("tr",as,[t[2]||(t[2]=h("td",{class:"key"},"Age Rating",-1)),h("td",null,[o(i,{value:e.md.ageRating},null,8,["value"])])])):m("",!0)])]),_:1})):m("",!0),o(l,{"tag-map":e.tags,class:"mdSection"},null,8,["tag-map"]),h("section",ss,[h("section",is,[o(i,{value:e.md.notes,label:"Notes"},null,8,["value"])]),h("section",ns,[o(i,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),o(i,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])])])}const os=T(qa,[["render",rs],["__scopeId","data-v-bff19433"]]),Ke=new Set("rtl","btt");Object.freeze(Ke);const We=({ids:e,page:t,readingDirection:a,pageCount:n},r)=>{if(e.length===0||r&&!n)return"";const s=e[0];if(t)t=Number(t);else if(Ke.has(a)){const i=Number(n)-1;t=Math.max(i,0)}else t=0;return{name:"reader",params:{pk:s,page:t}}},Ye={p:"publisher",i:"imprint",s:"series",v:"volume",f:"folder",a:"storyArc"};Object.freeze(Ye);const ls={name:"MetadataControls",components:{DownloadButton:ca,MarkReadButton:fa},props:{group:{type:String,required:!0}},computed:{...G(Z,{md:e=>e.md}),...G(N,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata}}),downloadName(){const e=this.md;let t;if(!e)t="Unknown.cbz";else if(e.fileName)t=e.fileName;else{if(this.md.group==="f")return[this.firstNameFromList(e.folderList)];if(this.md.group==="a")return[this.firstNameFromList(e.storyArcList)];t=[this.firstNameFromList(e.publisherList),this.firstNameFromList(e.imprintList),this.firstNameFromList(e.seriesList),this.firstNameFromList(e.volumeList),De(this.md,3),this.md.name].filter(Boolean).join(" ")}return t},downloadItem(){var e,t,a,n;return{group:(e=this.md)==null?void 0:e.group,ids:(t=this.md)==null?void 0:t.ids,childCount:(a=this.md)==null?void 0:a.childCount,mtime:(n=this.md)==null?void 0:n.mtime,name:this.downloadName}},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},markReadItem(){let e="";const t=Ye[this.md.group];return t?e=(this.md[t+"List"]||[]).map(({name:r})=>r).join(", "):e=this.md.name,{group:this.md.group,ids:this.md.ids,finished:this.md.finished,name:e,children:this.md.childCount||1}},readButtonIcon(){return this.isReadButtonEnabled?vt:gt},readerRoute(){var e;return(e=this.md)!=null&&e.ids?We(this.md,this.importMetadata):{}},size(){return this.$vuetify.display.smAndDown?"x-small":"default"}},methods:{firstNameFromList(e){let t="";if(!e)return t;for(const a of Object.values(e))if(a.name){t=a.name;break}return t}}},us={class:"controlRow"};function ds(e,t,a,n,r,s){const i=_("DownloadButton"),l=_("MarkReadButton");return u(),v("section",us,[o(i,{id:"downloadButton",button:!0,item:s.downloadItem},null,8,["item"]),o(l,{id:"markReadButton",button:!0,item:s.markReadItem,size:s.size},null,8,["item","size"]),s.isReadButtonShown?(u(),f(fe,{key:0,id:"readButton",title:"Read Comic",disabled:!s.isReadButtonEnabled,size:s.size,to:s.readerRoute},{default:L(()=>[o(ze,null,{default:L(()=>[ae(O(s.readButtonIcon),1)]),_:1}),t[0]||(t[0]=ae(" Read "))]),_:1},8,["disabled","size","to"])):m("",!0)])}const cs=T(ls,[["render",ds],["__scopeId","data-v-63b7222c"]]),ms={name:"MetadataBookCover",components:{BookCover:oa},props:{group:{type:String,required:!0}},computed:{...G(Z,{md:e=>e.md})}},hs={class:"bookCoverWrapper"};function ps(e,t,a,n,r,s){const i=_("BookCover");return u(),v("div",hs,[o(i,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),o(Vt,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])])}const fs=T(ms,[["render",ps],["__scopeId","data-v-cccedc1d"]]),vs={name:"MetadataHeader",components:{MetadataBookCover:fs,MetadataControls:cs,MetadataTags:Te,MetadataText:He},props:{group:{type:String,required:!0}},computed:{...G(N,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata},q:e=>e.settings.q}),...G(Z,{md:e=>e.md}),date(){if(!this.md.year&&!this.md.month&&!this.md.day)return"";const e=new Date(this.md.year||1970,this.md.month||1,this.md.day||1),t={};return this.md.year&&(t.year="numeric"),this.md.month&&(t.month=this.$vuetify.display.smAndDown?"short":"long"),this.md.day&&(t.day="numeric"),e.toLocaleDateString("default",t)},readerRoute(){var e;return(e=this.md)!=null&&e.ids?We(this.md,this.importMetadata):{}},formattedIssueNumber(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return"#"+De(this.md)},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=ke.format(this.md.page);e+=this.$vuetify.display.smAndDown?`${a} / `:`Read ${a} of `}const t=ke.format(this.md.pageCount);return e+=`${t} page`,this.md.pageCount!==1&&(e+="s"),this.$vuetify.display.smAndUp&&this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?Ue(this.md.size):0},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"},seriesVolumeCount(){const e=this.md.seriesVolumeCount;return e?`of ${e}`:""},volumeIssueCount(){const e=this.md.volumeIssueCount;return e?`/ ${e}`:""}}},gs={id:"metadataHeader"},bs={key:1,id:"seriesHeader"},ks={id:"seriesRow",class:"inlineRow"},ys={key:2,id:"titleRow"},_s={key:4,id:"publisherRow",class:"inlineRow"},Ss={key:7,id:"pageDateRow",class:"inlineRow"};function ws(e,t,a,n,r,s){var k,S,V,I,z,P,U,A;const i=_("MetadataText"),l=_("MetadataBookCover"),c=_("MetadataTags"),p=_("MetadataControls");return u(),v(pe,null,[h("header",gs,[e.q?(u(),f(i,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):m("",!0),o(l,{id:"metadataBookCover",group:a.group},null,8,["group"]),((k=e.md.seriesList)==null?void 0:k.length)===1?(u(),v("section",bs,[h("div",ks,[(u(),f(i,{id:"series",key:e.md.seriesList[0].ids,value:e.md.seriesList[0],group:"s",highlight:e.md.group==="s"},null,8,["value","highlight"])),((S=e.md.volumeList)==null?void 0:S.length)===1?(u(),f(i,{id:"volume",key:e.md.volumeList[0].ids,value:e.md.volumeList[0],group:"v",highlight:e.md.group==="v"},null,8,["value","highlight"])):m("",!0),o(i,{value:s.seriesVolumeCount,class:"subdued"},null,8,["value"]),o(i,{id:"issue",value:s.formattedIssueNumber,group:"c",highlight:e.md.group==="c"},null,8,["value","highlight"]),o(i,{value:s.volumeIssueCount,class:"subdued"},null,8,["value"])])])):m("",!0),e.md.name?(u(),v("span",ys,O(e.md.name),1)):m("",!0),((V=e.md.seriesList)==null?void 0:V.length)>1?(u(),f(c,{key:3,id:"seriesTags",class:"groupTags",label:"Series",values:e.md.seriesList,filter:"s"},null,8,["values"])):m("",!0),h("div",null,[((I=e.md.volumeList)==null?void 0:I.length)>1?(u(),f(c,{key:0,id:"volumeTags",class:"groupTags",label:"Volumes",values:e.md.volumeList,filter:"v"},null,8,["values"])):m("",!0)]),((z=e.md.publisherList)==null?void 0:z.length)===1?(u(),v("div",_s,[(u(),f(i,{id:"publisher",key:e.md.publisherList[0].ids,group:"p",highlight:e.md.group==="p",value:e.md.publisherList[0]},null,8,["highlight","value"])),((P=e.md.imprintList)==null?void 0:P.length)===1?(u(),f(i,{id:"imprint",key:e.md.imprintList[0].ids,group:"i",highlight:e.md.group==="i",value:e.md.imprintList[0]},null,8,["highlight","value"])):m("",!0)])):m("",!0),((U=e.md.publisherList)==null?void 0:U.length)>1?(u(),f(c,{key:5,id:"publisherTags",class:"groupTags",label:"Publishers",values:e.md.publisherList,filter:"p"},null,8,["values"])):m("",!0),((A=e.md.imprintList)==null?void 0:A.length)>1?(u(),f(c,{key:6,id:"imprintTags",class:"groupTags",label:"Imprints",values:e.md.imprintList,filter:"i"},null,8,["values"])):m("",!0),s.pages||e.md.year||e.md.month||e.md.day?(u(),v("div",Ss,[o(i,{value:s.pages},null,8,["value"]),o(i,{value:s.date,class:"datePicker"},null,8,["value"])])):m("",!0)]),o(p,{id:"controls",group:a.group},null,8,["group"])],64)}const Cs=T(vs,[["render",ws],["__scopeId","data-v-8cc4d346"]]),Ts=1160,Ms=.05,Bs=250,Vs={name:"MetadataButton",components:{CloseButton:At,MetadataBody:os,MetadataHeader:Cs,PlaceholderLoading:Wt},props:{book:{type:Object,required:!0},children:{type:Number,default:1},group:{type:String,required:!0},toolbar:{type:Boolean,default:!1}},data(){return{mdiTagOutline:bt,dialog:!1,progress:0}},computed:{...G(Z,{md:e=>e.md}),showContainer(){var e;return((e=this.md)==null?void 0:e.loaded)||!1},buttonVariant(){return this.toolbar?"plain":"text"}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...oe(Z,["clearMetadata","loadMetadata"]),dialogOpened(){const e=this.book.ids||[this.book.pk],t={group:this.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(Ms,this.children/Ts)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},Bs)}}},Rs={key:1,id:"placeholderContainer"};function Ns(e,t,a,n,r,s){const i=_("CloseButton"),l=_("MetadataHeader"),c=_("MetadataBody"),p=_("PlaceholderLoading");return u(),f(Et,{modelValue:r.dialog,"onUpdate:modelValue":t[3]||(t[3]=k=>r.dialog=k),fullscreen:"",transition:"dialog-bottom-transition"},{activator:L(({props:k})=>[o(fe,Y({"aria-label":"tags",class:"tagButton cardControlButton",variant:s.buttonVariant,icon:r.mdiTagOutline,title:"Tags"},k,{onClick:t[0]||(t[0]=kt(()=>{},["prevent"]))}),null,16,["variant","icon"])]),default:L(()=>[o(i,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[1]||(t[1]=k=>r.dialog=!1)}),s.showContainer?(u(),v("div",{key:0,id:"metadataContainer",onKeyup:t[2]||(t[2]=yt(k=>r.dialog=!1,["esc"]))},[o(l,{group:a.group},null,8,["group"]),o(c,{book:a.book,group:a.group},null,8,["book","group"])],32)):(u(),v("div",Rs,[t[4]||(t[4]=h("div",{id:"placeholderTitle"},"Tags Loading",-1)),o(p,{"model-value":r.progress,indeterminate:r.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const ri=T(Vs,[["render",Ns],["__scopeId","data-v-a776cc9b"]]),Ls={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function Is(e,t,a,n,r,s){return u(),f(fe,{variant:"plain",density:"compact",class:te(["paginationNavButton",s.classes]),size:"medium"},Se({_:2},[ne(e.$slots,(i,l)=>({name:l,fn:L(c=>[we(e.$slots,l,Y({props:i},c),void 0,!0)])}))]),1032,["class"])}const oi=T(Ls,[["render",Is],["__scopeId","data-v-0450dab6"]]),Me=Symbol.for("vuetify:v-slider");function xs(e,t,a){const n=a==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return n?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function Ps(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const $s=ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Rt(),...Nt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Fs=e=>{const t=g(()=>parseFloat(e.min)),a=g(()=>parseFloat(e.max)),n=g(()=>+e.step>0?parseFloat(e.step):0),r=g(()=>Math.max(Re(n.value),Re(t.value)));function s(i){if(i=parseFloat(i),n.value<=0)return i;const l=Ee(i,t.value,a.value),c=t.value%n.value,p=Math.round((l-c)/n.value)*n.value+c;return parseFloat(Math.min(p,a.value).toFixed(r.value))}return{min:t,max:a,step:n,decimals:r,roundValue:s}},Ds=e=>{let{props:t,steps:a,onSliderStart:n,onSliderMove:r,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:l}=Ce(),c=E(t,"reverse"),p=g(()=>t.direction==="vertical"),k=g(()=>p.value!==c.value),{min:S,max:V,step:I,decimals:z,roundValue:P}=a,U=g(()=>parseInt(t.thumbSize,10)),A=g(()=>parseInt(t.tickSize,10)),H=g(()=>parseInt(t.trackSize,10)),j=g(()=>(V.value-S.value)/I.value),X=E(t,"disabled"),q=g(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),y=g(()=>t.error||t.disabled?void 0:t.trackColor??t.color),$=g(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),M=Ne(!1),B=Ne(0),F=ye(),D=ye();function b(d){var Be;const C=t.direction==="vertical",Ze=C?"top":"left",Xe=C?"height":"width",Qe=C?"clientY":"clientX",{[Ze]:Je,[Xe]:et}=(Be=F.value)==null?void 0:Be.$el.getBoundingClientRect(),tt=Ps(d,Qe);let ge=Math.min(Math.max((tt-Je-B.value)/et,0),1)||0;return(C?k.value:k.value!==l.value)&&(ge=1-ge),P(S.value+ge*(V.value-S.value))}const K=d=>{s({value:b(d)}),M.value=!1,B.value=0},W=d=>{D.value=i(d),D.value&&(D.value.focus(),M.value=!0,D.value.contains(d.target)?B.value=xs(d,D.value,t.direction):(B.value=0,r({value:b(d)})),n({value:b(d)}))},x={passive:!0,capture:!0};function J(d){r({value:b(d)})}function le(d){d.stopPropagation(),d.preventDefault(),K(d),window.removeEventListener("mousemove",J,x),window.removeEventListener("mouseup",le)}function ue(d){var C;K(d),window.removeEventListener("touchmove",J,x),(C=d.target)==null||C.removeEventListener("touchend",ue)}function ve(d){var C;W(d),window.addEventListener("touchmove",J,x),(C=d.target)==null||C.addEventListener("touchend",ue,{passive:!1})}function R(d){d.preventDefault(),W(d),window.addEventListener("mousemove",J,x),window.addEventListener("mouseup",le,{passive:!1})}const w=d=>{const C=(d-S.value)/(V.value-S.value)*100;return Ee(isNaN(C)?0:C,0,100)},ee=E(t,"showTicks"),se=g(()=>ee.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(d=>({value:d,position:w(d),label:d.toString()})):Object.keys(t.ticks).map(d=>({value:parseFloat(d),position:w(parseFloat(d)),label:t.ticks[d]})):j.value!==1/0?_t(j.value+1).map(d=>{const C=S.value+d*I.value;return{value:C,position:w(C)}}):[]:[]),de=g(()=>se.value.some(d=>{let{label:C}=d;return!!C})),ce={activeThumbRef:D,color:E(t,"color"),decimals:z,disabled:X,direction:E(t,"direction"),elevation:E(t,"elevation"),hasLabels:de,isReversed:c,indexFromEnd:k,min:S,max:V,mousePressed:M,numTicks:j,onSliderMousedown:R,onSliderTouchstart:ve,parsedTicks:se,parseMouseMove:b,position:w,readonly:E(t,"readonly"),rounded:E(t,"rounded"),roundValue:P,showTicks:ee,startOffset:B,step:I,thumbSize:U,thumbColor:q,thumbLabel:E(t,"thumbLabel"),ticks:E(t,"ticks"),tickSize:A,trackColor:y,trackContainerRef:F,trackFillColor:$,trackSize:H,vertical:p};return St(Me,ce),ce},Es=ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,..._e()},"VSliderThumb"),Os=me()({name:"VSliderThumb",directives:{Ripple:Lt},props:Es(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=Oe(Me),{isRtl:s,rtlClasses:i}=Ce();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:c,disabled:p,thumbSize:k,thumbLabel:S,direction:V,isReversed:I,vertical:z,readonly:P,elevation:U,mousePressed:A,decimals:H,indexFromEnd:j}=r,X=g(()=>p.value?void 0:U.value),{elevationClasses:q}=It(X),{textColorClasses:y,textColorStyles:$}=xt(l),{pageup:M,pagedown:B,end:F,home:D,left:b,right:K,down:W,up:x}=Tt,J=[M,B,F,D,b,K,W,x],le=g(()=>c.value?[1,2,3]:[1,5,10]);function ue(R,w){if(!J.includes(R.key))return;R.preventDefault();const ee=c.value||.1,se=(e.max-e.min)/ee;if([b,K,W,x].includes(R.key)){const ce=(z.value?[s.value?b:K,I.value?W:x]:j.value!==s.value?[b,x]:[K,x]).includes(R.key)?1:-1,d=R.shiftKey?2:R.ctrlKey?1:0;w=w+ce*ee*le.value[d]}else if(R.key===D)w=e.min;else if(R.key===F)w=e.max;else{const de=R.key===B?1:-1;w=w-de*ee*(se>100?se/10:10)}return Math.max(e.min,Math.min(e.max,w))}function ve(R){const w=ue(R,e.modelValue);w!=null&&n("update:modelValue",w)}return he(()=>{const R=Q(j.value?100-e.position:e.position,"%");return o("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&A.value},e.class,i.value],style:[{"--v-slider-thumb-position":R,"--v-slider-thumb-size":Q(k.value)},e.style],role:"slider",tabindex:p.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!P.value,"aria-orientation":V.value,onKeydown:P.value?void 0:ve},[o("div",{class:["v-slider-thumb__surface",y.value,q.value],style:{...$.value}},null),Le(o("div",{class:["v-slider-thumb__ripple",y.value],style:$.value},null),[[wt("ripple"),e.ripple,null,{circle:!0,center:!0}]]),o(Ut,{origin:"bottom center"},{default:()=>{var w;return[Le(o("div",{class:"v-slider-thumb__label-container"},[o("div",{class:["v-slider-thumb__label"]},[o("div",null,[((w=a["thumb-label"])==null?void 0:w.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(c.value?H.value:1)])])]),[[Ct,S.value&&e.focused||S.value==="always"]])]}})])}),{}}}),zs=ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},..._e()},"VSliderTrack"),As=me()({name:"VSliderTrack",props:zs(),emits:{},setup(e,t){let{slots:a}=t;const n=Oe(Me);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:i,showTicks:l,tickSize:c,trackColor:p,trackFillColor:k,trackSize:S,vertical:V,min:I,max:z,indexFromEnd:P}=n,{roundedClasses:U}=Pt(i),{backgroundColorClasses:A,backgroundColorStyles:H}=Ie(k),{backgroundColorClasses:j,backgroundColorStyles:X}=Ie(p),q=g(()=>`inset-${V.value?"block":"inline"}-${P.value?"end":"start"}`),y=g(()=>V.value?"height":"width"),$=g(()=>({[q.value]:"0%",[y.value]:"100%"})),M=g(()=>e.stop-e.start),B=g(()=>({[q.value]:Q(e.start,"%"),[y.value]:Q(M.value,"%")})),F=g(()=>l.value?(V.value?s.value.slice().reverse():s.value).map((b,K)=>{var x;const W=b.value!==I.value&&b.value!==z.value?Q(b.position,"%"):void 0;return o("div",{key:b.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":b.position>=e.start&&b.position<=e.stop,"v-slider-track__tick--first":b.value===I.value,"v-slider-track__tick--last":b.value===z.value}],style:{[q.value]:W}},[(b.label||a["tick-label"])&&o("div",{class:"v-slider-track__tick-label"},[((x=a["tick-label"])==null?void 0:x.call(a,{tick:b,index:K}))??b.label])])}):[]);return he(()=>o("div",{class:["v-slider-track",U.value,e.class],style:[{"--v-slider-track-size":Q(S.value),"--v-slider-tick-size":Q(c.value)},e.style]},[o("div",{class:["v-slider-track__background",j.value,{"v-slider-track__background--opacity":!!r.value||!k.value}],style:{...$.value,...X.value}},null),o("div",{class:["v-slider-track__fill",A.value],style:{...B.value,...H.value}},null),l.value&&o("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[F.value])])),{}}}),Gs=ie({...jt(),...$s(),...qt(),modelValue:{type:[Number,String],default:0}},"VSlider"),Us=me()({name:"VSlider",props:Gs(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=ye(),{rtlClasses:s}=Ce(),i=Fs(e),l=Mt(e,"modelValue",void 0,y=>i.roundValue(y??i.min.value)),{min:c,max:p,mousePressed:k,roundValue:S,onSliderMousedown:V,onSliderTouchstart:I,trackContainerRef:z,position:P,hasLabels:U,readonly:A}=Ds({props:e,steps:i,onSliderStart:()=>{n("start",l.value)},onSliderEnd:y=>{let{value:$}=y;const M=S($);l.value=M,n("end",M)},onSliderMove:y=>{let{value:$}=y;return l.value=S($)},getActiveThumb:()=>{var y;return(y=r.value)==null?void 0:y.$el}}),{isFocused:H,focus:j,blur:X}=Ht(e),q=g(()=>P(l.value));return he(()=>{const y=xe.filterProps(e),$=!!(e.label||a.label||a.prepend);return o(xe,Y({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||U.value,"v-slider--focused":H.value,"v-slider--pressed":k.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},y,{focused:H.value}),{...a,prepend:$?M=>{var B,F;return o(pe,null,[((B=a.label)==null?void 0:B.call(a,M))??(e.label?o(Kt,{id:M.id.value,class:"v-slider__label",text:e.label},null):void 0),(F=a.prepend)==null?void 0:F.call(a,M)])}:void 0,default:M=>{let{id:B,messagesId:F}=M;return o("div",{class:"v-slider__container",onMousedown:A.value?void 0:V,onTouchstartPassive:A.value?void 0:I},[o("input",{id:B.value,name:e.name||B.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:l.value},null),o(As,{ref:z,start:0,stop:q.value},{"tick-label":a["tick-label"]}),o(Os,{ref:r,"aria-describedby":F.value,focused:H.value,min:c.value,max:p.value,modelValue:l.value,"onUpdate:modelValue":D=>l.value=D,position:q.value,elevation:e.elevation,onFocus:j,onBlur:X,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),js={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function qs(e,t,a,n,r,s){return u(),f(Us,Y({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":L(({index:i})=>[ae(O(i+a.min),1)]),_:1},16,["min"])}const li=T(js,[["render",qs],["__scopeId","data-v-01b67afd"]]),Hs={name:"PaginationToolbar"};function Ks(e,t,a,n,r,s){return u(),f(Yt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},Se({_:2},[ne(e.$slots,(i,l)=>({name:l,fn:L(c=>[we(e.$slots,l,Y({props:i},c),void 0,!0)])}))]),1024)}const ui=T(Hs,[["render",Ks],["__scopeId","data-v-cfa8cce0"]]);export{oa as B,ca as D,fa as M,be as N,oi as P,ii as T,si as V,ni as a,ri as b,li as c,ui as d,We as g,Ue as p,ea as t};
