import numpy as np

def largest_triangle_three_buckets(
        x: np.ndarray,
        y: np.ndarray,
        threshold: int
) -> tuple[np.ndarray, np.ndarray]:
    """Downsample using the largest triangle three buckets algorithm"""
    ...
