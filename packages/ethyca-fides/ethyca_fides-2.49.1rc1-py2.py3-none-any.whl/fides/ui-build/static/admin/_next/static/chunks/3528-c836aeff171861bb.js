"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3528],{43124:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(24246),i=n(6173),o=n(88038),s=n.n(o),l=n(86677);n(27378);var a=n(11596),c=n(72247),u=n(11032),d=()=>{let e=(0,l.useRouter)();return(0,r.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(i.xuv,{children:[(0,r.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(i.wpx,{onClick:()=>{e.push(u.fz)},children:"Configure"})]}),(0,r.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:o=!0,mainProps:u}=e,f=(0,a.hz)(),g=(0,l.useRouter)(),p="/privacy-requests"===g.pathname||"/datastore-connection"===g.pathname,x=!(f.flags.privacyRequestsConfiguration&&p),{data:m}=(0,c.JE)(void 0,{skip:x}),{data:v}=(0,c.PW)(void 0,{skip:x}),b=f.flags.privacyRequestsConfiguration&&(!m||!v)&&p;return(0,r.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,r.jsxs)(s(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(i.kCb,{as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[b?(0,r.jsx)(d,{}):null,t]})]})}},6903:function(e,t,n){var r=n(24246),i=n(69883),o=n(6173),s=n(60153),l=n(51959),a=n(38565),c=n(27378),u=n(34803),d=n(39514);let f=e=>{let{item:t,label:n,draggable:i,onDeleteItem:a,onRowClick:c,maxH:u=10,rowTestId:d}=e,f=(0,s.o)();return(0,r.jsx)(l.t.Item,{value:t,dragListener:!1,dragControls:f,children:(0,r.jsxs)(o.kCb,{direction:"row",gap:2,maxH:u,w:"full",px:2,align:"center",role:"group",className:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:c?{bgColor:"gray.100"}:void 0,bgColor:"white",position:"relative",children:[i&&(0,r.jsx)(o.VVU,{onPointerDown:e=>f.start(e),cursor:"grab"}),(0,r.jsx)(o.kCb,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:c?"pointer":"auto",onClick:()=>{c&&c(t)},overflow:"clip","data-testid":d,children:(0,r.jsx)(o.xvT,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:n})}),a&&(0,r.jsx)(o.wpx,{"aria-label":"Delete",onClick:()=>a(t),icon:(0,r.jsx)(o.pJl,{boxSize:3}),size:"small",className:"invisible absolute right-2 bg-white group-hover:visible"})]})})},g=e=>{let{label:t,options:n,onOptionSelected:s,baseTestId:l}=e,[a,d]=(0,c.useState)(!1),[f,g]=(0,c.useState)(void 0),p=e=>{s(e),d(!1),g(void 0)};return a?(0,r.jsx)(o.xuv,{w:"full","data-testid":"select-".concat(l),children:(0,r.jsx)(i.Z,{chakraStyles:u.hP,size:"sm",value:f,options:n,onChange:e=>p(e),autoFocus:!0,menuPosition:"fixed",menuPlacement:"auto",classNamePrefix:"select-".concat(l)})}):(0,r.jsx)(o.wpx,{onClick:()=>d(!0),"data-testid":"add-".concat(l),block:!0,icon:(0,r.jsx)(o.jBn,{boxSize:4}),iconPosition:"end",children:t})};t.Z=e=>{let{label:t,tooltip:n,draggable:i,addButtonLabel:s,allItems:c,idField:p,nameField:x=p,values:m,setValues:v,canDeleteItem:b,onRowClick:h,selectOnAdd:j,getItemLabel:y,createNewValue:w,maxHeight:C=36,baseTestId:k}=e,S=e=>e instanceof Object&&p&&p in e?e[p]:e,R=c.every(e=>"string"==typeof e)?c.filter(e=>m.every(t=>t!==e)):c.filter(e=>m.every(t=>S(t)!==S(e))),_=e=>{v(m.filter(t=>t!==e).slice())},A=null!=y?y:e=>e instanceof Object&&p&&p in e?x&&x in e?e[x]:e[p]:e,P=e=>{let t=e instanceof Object&&p&&p in e?e[p]:e;return{label:A(e),value:t}},D=e=>c.every(e=>"string"==typeof e)?e.value:c.find(t=>t[p]===e.value),L=e=>{let t=w?w(e):D(e);v([t,...m.slice()]),j&&h&&h(t)},z={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},O=i?(0,r.jsx)(o.xuv,{as:a.E.div,layoutScroll:!0,...z,children:(0,r.jsx)(l.t.Group,{values:m,onReorder:e=>v(e.slice()),children:m.map(e=>{let t=S(e);return(0,r.jsx)(f,{item:e,label:A(e),onDeleteItem:!b||b&&b(e)?_:void 0,onRowClick:h,draggable:!0,maxH:C,rowTestId:"".concat(k,"-row-").concat(t)},t)})})}):(0,r.jsx)(o.xuv,{...z,children:(0,r.jsx)(o.aVo,{children:m.map(e=>{let t=S(e);return(0,r.jsx)(f,{item:e,label:A(e),onRowClick:h,onDeleteItem:_,maxH:C,rowTestId:"".concat(k,"-row-").concat(t)},t)})})});return m.length?(0,r.jsxs)(o.kCb,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,r.jsx)(u.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,n?(0,r.jsx)(d.Z,{label:n}):null,O,R.length?(0,r.jsx)(g,{label:null!=s?s:"Add new",options:R.map(e=>P(e)),onOptionSelected:L,baseTestId:k}):null]}):(0,r.jsx)(g,{label:null!=s?s:"Add new",options:R.map(e=>P(e)),onOptionSelected:L,baseTestId:k})}},60136:function(e,t,n){n.d(t,{D4:function(){return o.D4},MM:function(){return f},Ot:function(){return c},c6:function(){return i},cj:function(){return p},e$:function(){return l},fn:function(){return a},iC:function(){return g},nU:function(){return d},tB:function(){return u}});var r,i,o=n(41164);let s="An unexpected error occurred. Please try again.",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,o.Bw)(e)){if((0,o.hE)(e.data))return e.data.detail;if((0,o.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,o.Dy)(e.data)||404===e.status&&(0,o.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function a(e){return"object"==typeof e&&null!=e&&"status"in e}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function u(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,o.oK)(e))return{status:e.originalStatus,message:e.data};if((0,o.Bw)(e)){let{status:n}=e;return{status:n,message:l(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=i||(i={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let g={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},p=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},16781:function(e,t,n){n.d(t,{MA:function(){return l},Vo:function(){return c},t5:function(){return a}});var r=n(24246),i=n(6173);let o=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",t]})},s=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},a=e=>{let t=(0,r.jsx)(o,{children:e});return{...l,description:t}},c=e=>{let t=(0,r.jsx)(s,{children:e});return{...l,description:t,status:"error"}}},41164:function(e,t,n){n.d(t,{Bw:function(){return s},D4:function(){return i},Dy:function(){return a},XD:function(){return c},cz:function(){return u},hE:function(){return l},oK:function(){return o}});var r=n(76649);let i=e=>"error"in e,o=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,s=e=>(0,r.Ln)({status:"number",data:{}},e),l=e=>(0,r.Ln)({detail:"string"},e),a=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),u=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}}]);