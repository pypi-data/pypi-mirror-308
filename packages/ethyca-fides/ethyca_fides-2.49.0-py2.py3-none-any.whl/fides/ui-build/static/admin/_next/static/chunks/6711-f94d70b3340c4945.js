"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6711],{29137:function(e,t,n){n.d(t,{$:function(){return o}});var i=n(24246);let o=(0,n(6173).IUT)({displayName:"TableIcon",viewBox:"0 0 16 16",path:(0,i.jsx)("path",{fill:"currentColor",d:"M2 14V2H14V14H2ZM3.33333 6H12.6667V3.33333H3.33333V6ZM6.88333 9.33333H9.11667V7.33333H6.88333V9.33333ZM6.88333 12.6667H9.11667V10.6667H6.88333V12.6667ZM3.33333 9.33333H5.55V7.33333H3.33333V9.33333ZM10.45 9.33333H12.6667V7.33333H10.45V9.33333ZM3.33333 12.6667H5.55V10.6667H3.33333V12.6667ZM10.45 12.6667H12.6667V10.6667H10.45V12.6667Z"})})},19906:function(e,t,n){var i=n(24246),o=n(6173),a=n(27378),l=n(58114),s=n(65399),r=n(19310);t.Z=e=>{let{selectedTaxonomies:t,onAddTaxonomy:n,onRemoveTaxonomy:d}=e,[c,u]=(0,a.useState)(!1),{getDataCategoryDisplayName:m}=(0,r.Z)(),p=(0,a.useCallback)(()=>{u(!1)},[]),{ref:x}=(0,s.O3)(p);return(0,i.jsxs)(o.Eq9,{py:2,alignItems:"center",position:"relative",width:"100%",gap:2,overflowX:"auto",ref:x,children:[t.map(e=>(0,i.jsxs)(o.Cts,{fontWeight:"normal",textTransform:"none","data-testid":"classification-".concat(e),px:1.5,children:[m(e),(0,i.jsx)(o.wpx,{onClick:()=>d(e),icon:(0,i.jsx)(o.Two,{boxSize:2}),size:"small",type:"text",className:"ml-1 max-h-4 max-w-4","aria-label":"Remove category"})]},e)),(0,i.jsx)(o.wpx,{size:"small",type:"text",icon:(0,i.jsx)(o.jBn,{mb:"1px"}),onClick:()=>u(!0),className:" max-h-[20px] max-w-[20px] rounded-sm border-none bg-gray-100 hover:!bg-gray-200","data-testid":"add-category-btn","aria-label":"Add category"}),c&&(0,i.jsx)(o.xuv,{className:"select-wrapper",position:"absolute",zIndex:10,top:"0",left:"0",width:"100%",height:"max",bgColor:"#fff",children:(0,i.jsx)(l.Z,{onChange:e=>{u(!1),n(e.value)},menuIsOpen:!0})})]})}},58114:function(e,t,n){var i=n(24246),o=n(69883),a=n(6173),l=n(34803),s=n(94167),r=n(19310);let d=e=>{let{data:t,setValue:n}=e,{getPrimaryKey:o,getDataCategoryByKey:l}=(0,r.Z)(),d=l(o(t.value,2));return(0,i.jsxs)(a.xuv,{onClick:()=>n(t,"select-option"),cursor:"pointer",borderBottomColor:"gray.100",borderBottomWidth:1,paddingX:3,paddingY:1.5,_hover:{backgroundColor:"gray.100"},"data-testid":"option-".concat(t.value),children:[(0,i.jsxs)(a.Ugi,{gap:1,alignItems:"center",children:[(0,i.jsx)(a.Vp9,{paddingX:2,paddingY:0,fontWeight:600,colorScheme:"gray",fontSize:"xs",children:(0,s.G8)((null==d?void 0:d.name)||"")}),(0,i.jsxs)(a.xvT,{fontSize:"sm",whiteSpace:"normal",children:[": ",t.value]})]}),(0,i.jsx)(a.xvT,{fontSize:"xs",lineHeight:"18px",mt:1,color:"gray.500",whiteSpace:"normal",children:t.description})]})};t.Z=e=>{let{onChange:t,menuIsOpen:n,showDisabled:a=!1}=e,{getDataCategoryDisplayName:s,getDataCategories:c}=(0,r.Z)(),u=(a?c():c().filter(e=>e.active)).map(e=>({value:e.fides_key,label:s(e.fides_key),description:e.description||""}));return(0,i.jsx)(o.Z,{placeholder:"Select a category...",onChange:t,options:u,size:"sm",menuPosition:"absolute",autoFocus:!0,isSearchable:!0,menuPlacement:"auto",components:{Option:d},menuIsOpen:n,chakraStyles:{...l.hP,control:e=>({...e,border:"none"}),menuList:e=>({...e,paddingTop:0,paddingBottom:0,mt:10,position:"fixed",overflowX:"hidden",maxWidth:"lg"})}})}},65399:function(e,t,n){n.d(t,{HK:function(){return a},VY:function(){return i.V},O3:function(){return s}});var i=n(75139),o=n(60136);let a=()=>{let{errorAlert:e}=(0,i.V)();return{handleError:t=>{let n="An unexpected error occurred. Please try again.";(0,o.Ot)(t)?n=t.data.detail:(0,o.tB)(t)&&(n=t.data.detail[0].msg),e(n)}}};var l=n(27378);let s=e=>{let t=(0,l.useRef)(void 0);return(0,l.useEffect)(()=>{let n=n=>{var i;(null===(i=t.current)||void 0===i?void 0:i.contains(n.target))||e()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,e]),{ref:t}}},75139:function(e,t,n){n.d(t,{V:function(){return a}});var i=n(24246),o=n(6173);let a=()=>{let e=(0,o.pmc)();return{errorAlert:(t,n,a)=>{let l={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(o.bZj,{alignItems:"normal",status:"error",children:[(0,i.jsx)(o.zMQ,{}),(0,i.jsxs)(o.xuv,{children:[n&&(0,i.jsx)(o.CdC,{children:n}),(0,i.jsx)(o.XaZ,{children:t})]}),(0,i.jsx)(o.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,l):e(l)},successAlert:(t,n,a)=>{let l={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(o.bZj,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,i.jsx)(o.zMQ,{}),(0,i.jsxs)(o.xuv,{children:[n&&(0,i.jsx)(o.CdC,{children:n}),(0,i.jsx)(o.XaZ,{children:t})]}),(0,i.jsx)(o.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,l):e(l)}}}},19310:function(e,t,n){var i=n(24246),o=n(64925),a=n.n(o),l=n(44296),s=n(91650),r=n(79851),d=n(47411);let c=()=>{let{isLoading:e}=(0,r.fd)(),t=(0,l.C)(r.U3),{isLoading:n}=(0,d.MO)(),i=(0,l.C)(d.qb),{isLoading:o}=(0,s.te)();return{dataUses:t,dataSubjects:(0,l.C)(s.ZL),dataCategories:i,isLoading:e||n||o}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:o}=c(),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=t(e);if(!o)return e;let a=t(l(e,n));return o.parent_key&&(null==a?void 0:a.name)!==o.name?(0,i.jsxs)("span",{children:[(0,i.jsxs)("strong",{children:[null==a?void 0:a.name,":"]})," ",o.name]},e):(0,i.jsx)("strong",{children:o.name},e)},r=t=>a()(e,{fides_key:t}),d=e=>a()(t,{fides_key:e}),u=e=>a()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:r,getDataUseDisplayName:e=>s(e,r,1),getDataCategories:()=>t,getDataCategoryByKey:d,getDataCategoryDisplayName:e=>s(e,d,2),getDataSubjects:()=>n,getDataSubjectByKey:u,getDataSubjectDisplayName:e=>{let t=u(e);return t?t.name:e},getPrimaryKey:l,isLoading:o}}},89955:function(e,t,n){var i=n(24246),o=n(6173),a=n(30454),l=n.n(a),s=n(47215),r=n.n(s),d=n(90271),c=n.n(d),u=n(57311),m=n(435),p=n(98894),x=n(5067);t.Z=e=>{let{field:t,isOpen:n,onClose:a,dataset:s,collectionName:d,subfields:h}=e,[f]=(0,m.TG)(),{isOpen:g,onOpen:v,onClose:j}=(0,o.qY0)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.ZP,{isOpen:n,onClose:a,description:"Fields are an array of objects that describe the collection's fields. Provide additional context to this field by filling out the fields below.",header:(0,i.jsx)(u.zR,{title:"Field Name: ".concat(null==t?void 0:t.name)}),footer:(0,i.jsx)(u.Gn,{onClose:a,onDelete:v,formId:p.e}),children:(0,i.jsx)(p.Z,{values:t,onSubmit:e=>{let n=(0,x.Fk)({dataset:s,collectionName:d,subfields:h?[...h,(null==t?void 0:t.name)||""]:[(null==t?void 0:t.name)||""]}),i={...t,...e},o=l()(s);r()(o,n,i),f(o),a()},dataType:"field"})}),(0,i.jsx)(o.cVQ,{isOpen:g,onClose:j,onConfirm:()=>{let e=(0,x.Fk)({dataset:s,collectionName:d,subfields:h}),n=l()(s);c()(n,e,e=>({...e,fields:e.fields.filter(e=>e.name!==(null==t?void 0:t.name))})),f(n),a(),j()},title:"Delete Field",message:(0,i.jsxs)(o.xvT,{children:["You are about to permanently delete the field named"," ",(0,i.jsx)(o.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==t?void 0:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})}}}]);