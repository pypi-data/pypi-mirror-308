function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./BuilderSettings-DuLpZDFt.js","./marked.esm-273vDTCT.js","./index-Bx-Up0aV.js","./index-BO8QZIze.css","./toggleHighContrast-BjSyHUoH.js","./toggleHighContrast-DZe_BnT2.css","./instancePath-BsbOTTI8.js","./BuilderSettings-cDsUjncO.css","./BuilderSidebar-yISGkKuc.js","./BuilderSidebar-Ro3URH6k.css","./ComponentRenderer-BnKENqOY.js","./ComponentRenderer-DkWSlX3q.css","./BuilderInstanceTracker-CKtMVaoR.js","./BuilderInstanceTracker-BMktodl2.css","./BuilderInsertionOverlay-C6u7HpCn.js","./BuilderInsertionOverlay-C2m7KHIN.css","./BuilderInsertionLabel-4pYFkjlm.js","./BuilderInsertionLabel-BQrPp9vH.css","./BuilderCodePanel-BKr2r7V6.js","./BuilderEmbeddedCodeEditor-DAG0asX-.js","./BuilderEmbeddedCodeEditor-DfQG1Jha.css","./BuilderPanel-B7enEw0t.js","./BuilderPanel-DWLDcbDu.css","./BuilderCodePanel-PBgvuDMr.css","./BuilderLogPanel-DagIY5b0.js","./BuilderLogPanel-ZBwPmc7t.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as z,i as H,a as O,c as R,r as L,o as s,e as m,f as t,q as M,x as E,J as k,y as se,z as ae,_ as j,K as $e,b as Q,L as e,t as N,C as Ie,F as de,s as Ee,T as Ae,m as B,M as Be,n as Y,W as ke,N as ge,k as we,O as Pe,l as De,v as Te,D as xe,P as Me,w as Le,Q as ne,R as Re,S as G,U as He,V as Oe,I as K}from"./index-Bx-Up0aV.js";const Ue="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='48'%20height='48'%20rx='24'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M34.0187%2028.9434L37.2255%2015.7128H32.7659L30.812%2015.7128L34.0187%2028.9434Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.4266%2015.7128H20.967L25.4266%2034.1126L27.4085%2034.1126H31.8681L27.4085%2015.7128H25.4266L25.4266%2015.7128Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5635%2015.7129H13.1038L13.1039%2015.7132H11.1219L15.5816%2034.113H20.0413L20.0412%2034.1126H22.0231L17.5635%2015.7129Z'%20fill='white'/%3e%3c/svg%3e",ye=n=>(se("data-v-fe003866"),n=n(),ae(),n),Ve={class:"BuilderSwitcher"},Ne=ye(()=>t("i",{class:"icon material-symbols-outlined"}," brush ",-1)),Fe=ye(()=>t("i",{class:"icon material-symbols-outlined"}," linked_services ",-1)),Ge=ye(()=>t("i",{class:"icon material-symbols-outlined"}," preview ",-1)),Ke=z({__name:"BuilderSwitcher",setup(n){const h=H(O.core),i=H(O.builderManager),u=R(()=>h.featureFlags.value.includes("workflows"));let a=L(null);const y=l=>{const c=i.getMode();c!=l&&(a.value=l,i.setMode(l),l=="preview"&&i.openPanels.clear(),(l=="preview"||c=="workflows"||l=="workflows")&&i.setSelection(null))},S=R(()=>i.getMode());return(l,c)=>(s(),m("div",Ve,[t("div",{class:E({active:S.value=="ui"}),onClick:c[0]||(c[0]=C=>y("ui"))},[Ne,M(" UI ")],2),u.value?(s(),m("div",{key:0,class:E({active:S.value=="workflows"}),onClick:c[1]||(c[1]=C=>y("workflows"))},[Fe,M(" Workflows ")],2)):k("",!0),t("div",{class:E({active:S.value=="preview"}),onClick:c[2]||(c[2]=C=>y("preview"))},[Ge,M(" Preview ")],2)]))}}),ze=j(Ke,[["__scopeId","data-v-fe003866"]]),je=n=>(se("data-v-018fe22b"),n=n(),ae(),n),We={class:"main"},Ze={class:"titleContainer"},Xe={key:0,class:"material-symbols-outlined"},qe=["title"],Je=je(()=>t("i",{class:"material-symbols-outlined"},"close",-1)),Qe=[Je],Ye={class:"slotContainer"},et={key:0,class:"actionContainer"},tt=["onClick"],ot=z({__name:"BuilderModal",props:{modalTitle:{},icon:{},closeAction:{},menuActions:{}},setup(n){const h=n,{modalTitle:i,icon:u,closeAction:a,menuActions:y}=$e(h),S=l=>{l.key=="Escape"&&a.value.fn()};return(l,c)=>{var C,r;return s(),Q(Ae,{to:"#modal"},[t("div",{class:"BuilderModal",tabindex:"-1",onKeydown:S},[t("div",We,[t("div",Ze,[e(u)?(s(),m("i",Xe,N(e(u)),1)):k("",!0),t("h2",null,N(e(i)),1),t("button",{title:((C=e(a))==null?void 0:C.desc)??"Close",onClick:c[0]||(c[0]=(...I)=>e(a).fn&&e(a).fn(...I))},Qe,8,qe)]),t("div",Ye,[Ie(l.$slots,"default",{},void 0,!0)]),((r=e(y))==null?void 0:r.length)>0?(s(),m("div",et,[(s(!0),m(de,null,Ee(e(y),(I,v)=>(s(),m("button",{key:v,onClick:I.fn},N(I.desc),9,tt))),128))])):k("",!0)])],32)])}}}),nt=j(ot,[["__scopeId","data-v-018fe22b"]]),st={class:"BuilderStateExplorer"},at=z({__name:"BuilderStateExplorer",setup(n){const h=H(O.core);return(i,u)=>(s(),m("div",st,[B(Be,{data:e(h).userState.value,"enable-copy-to-json":!0,"initial-depth":1},null,8,["data"])]))}}),it=j(at,[["__scopeId","data-v-0f05b6aa"]]),Se=n=>(se("data-v-829d74a0"),n=n(),ae(),n),lt={class:"BuilderLogIndicator"},rt={key:0,class:"number error"},dt=Se(()=>t("div",{class:"icon"},[t("i",{class:"material-symbols-outlined"},"error")],-1)),ct={key:1,class:"number info"},ut=Se(()=>t("div",{class:"icon"},[t("i",{class:"material-symbols-outlined"},"info")],-1)),pt=z({__name:"BuilderLogIndicator",setup(n){const h=H(O.builderManager),i=R(()=>h.getLogEntries().reduce((u,a)=>(a.type in u||(u[a.type]=0),u[a.type]++,u),{}));return(u,a)=>(s(),m("div",lt,[i.value.error>0?(s(),m("div",rt,[dt,M(" "+N(i.value.error??0),1)])):k("",!0),i.value.info>0?(s(),m("div",ct,[ut,M(" "+N(i.value.info??0),1)])):k("",!0)]))}}),vt=j(pt,[["__scopeId","data-v-829d74a0"]]),ie=n=>(se("data-v-cd62bbab"),n=n(),ae(),n),_t={class:"BuilderHeader"},mt=ie(()=>t("img",{src:Ue,alt:"Writer Framework logo"},null,-1)),ft={class:"undoRedo"},ht=["title","disabled"],gt=ie(()=>t("i",{class:"material-symbols-outlined"}," undo ",-1)),wt=["title","disabled"],yt=ie(()=>t("i",{class:"material-symbols-outlined"}," redo ",-1)),bt=ie(()=>t("i",{class:"material-symbols-outlined"}," mystery ",-1)),Ct=ie(()=>t("div",{class:"gap"},null,-1)),kt=ie(()=>t("i",{class:"material-symbols-outlined"}," code ",-1)),$t=["title"],Et={key:0},St=z({__name:"BuilderHeader",setup(n){const h=L(null),i=H(O.core),u=H(O.builderManager),{undo:a,redo:y,getUndoRedoSnapshot:S}=ge(i,u),l=L(!1),c=R(()=>S()),C=()=>{let _="";switch(i.syncHealth.value){case"offline":_+="Offline. Not syncing.";break;case"connected":_+="Online. Syncing...";break;case"idle":_+="Sync not initialised.";break;case"suspended":_+="Sync suspended.";break}return i.featureFlags.value.length>0&&(_+=` Feature flags: ${i.featureFlags.value.join(", ")}`),_};function r(){l.value=!0}function I(_){if(u.openPanels.has(_)){u.openPanels.delete(_);return}u.openPanels.add(_)}const v={desc:"Close",fn:()=>{l.value=!1}};return(_,g)=>(s(),m("div",_t,[mt,B(ze),t("div",ft,[t("button",{class:"undo",title:c.value.isUndoAvailable?`Undo ${c.value.undoDesc}`:"Nothing to undo",disabled:!c.value.isUndoAvailable,onClick:g[0]||(g[0]=T=>e(a)())},[gt,M(" Undo ")],8,ht),t("button",{class:"redo",title:c.value.isRedoAvailable?`Redo ${c.value.redoDesc}`:"Nothing to redo",disabled:!c.value.isRedoAvailable,onClick:g[1]||(g[1]=T=>e(y)())},[yt,M(" Redo ")],8,wt)]),t("div",null,[t("button",{onClick:r},[bt,M(" State Explorer ")]),l.value?(s(),Q(nt,{key:0,"close-action":v,icon:"mystery","modal-title":"State Explorer"},{default:Y(()=>[B(it)]),_:1})):k("",!0)]),Ct,B(ke,{variant:"primary",size:"small",class:E(["panelToggler",{active:e(u).openPanels.has("code")}]),title:"Toggle Code panel",onClick:g[2]||(g[2]=T=>I("code"))},{default:Y(()=>[kt,M(" Code ")]),_:1},8,["class"]),B(ke,{variant:"primary",size:"small",class:E(["panelToggler",{active:e(u).openPanels.has("log")}]),title:"Toggle Log panel",onClick:g[3]||(g[3]=T=>I("log"))},{default:Y(()=>[M(" Log "),B(vt,{class:"indicator"})]),_:1},8,["class"]),t("div",{class:E(["syncHealth",e(i).syncHealth.value]),title:C()},[t("i",{ref_key:"syncHealthIcon",ref:h,class:"material-symbols-outlined icon"},"sync",512),e(i).syncHealth.value=="offline"?(s(),m("span",Et,"Offline")):k("",!0)],10,$t)]))}}),It=j(St,[["__scopeId","data-v-cd62bbab"]]),At={class:"text"},Bt=200,Pt=4,Dt=z({__name:"BuilderTooltip",setup(n){const h=L(null),i=L(!1),u=L(null);let a=null,y=null;const S=L("top"),l=L({top:0,left:0});async function c(){u.value=a.dataset.writerTooltip;const v=a.dataset.writerTooltipGap?parseInt(a.dataset.writerTooltipGap):Pt;i.value=!0,await Me();const{x:_,y:g,width:T,height:Z}=a.getBoundingClientRect(),{width:X,height:q}=h.value.getBoundingClientRect();switch(S.value){case"top":l.value.top=g-q-v,l.value.left=_+T/2-X/2;break;case"right":l.value.top=g+Z/2-q/2,l.value.left=_+T+v;break;case"left":l.value.left=_-X-v,l.value.top=g+Z/2-q/2;break;case"bottom":l.value.top=g+Z+v,l.value.left=_+T/2-X/2;break}}function C(v){const g=v.target.closest("[data-writer-tooltip]");if(g)a!==g&&(i.value=!1);else{i.value=!1,a=null;return}a=g,S.value=a.dataset.writerTooltipPlacement??"top",setTimeout(()=>r(g),Bt)}async function r(v){v===a&&(y==null||y.disconnect(),y=new MutationObserver(c),y.observe(a,{attributes:!0,attributeFilter:["data-writer-tooltip","data-writer-tooltip-placement"]}),c())}const I=R(()=>{const{top:v,left:_}=l.value;return{top:`${v}px`,left:`${_}px`}});return we(()=>{document.documentElement.addEventListener("mouseover",C)}),Pe(()=>{document.documentElement.removeEventListener("mouseover",C),y==null||y.disconnect()}),(v,_)=>De((s(),m("div",{ref_key:"rootEl",ref:h,class:"BuilderTooltip",style:xe(I.value)},[t("div",{class:E(["arrow",S.value])},null,2),t("div",At,N(u.value),1)],4)),[[Te,i.value]])}}),Tt=j(Dt,[["__scopeId","data-v-273d531a"]]),W=n=>(se("data-v-46d8a672"),n=n(),ae(),n),xt=["draggable","data-writer-id"],Mt={key:0,class:"type"},Lt=W(()=>t("i",{class:"material-symbols-outlined"},"add",-1)),Rt=[Lt],Ht=["data-writer-tooltip"],Ot=W(()=>t("i",{class:"material-symbols-outlined"},"arrow_upward",-1)),Ut=[Ot],Vt=["data-writer-tooltip"],Nt=W(()=>t("i",{class:"material-symbols-outlined"},"arrow_downward",-1)),Ft=[Nt],Gt=["data-writer-tooltip"],Kt=W(()=>t("i",{class:"material-symbols-outlined"},"cut",-1)),zt=[Kt],jt=["data-writer-tooltip"],Wt=W(()=>t("i",{class:"material-symbols-outlined"},"content_copy",-1)),Zt=[Wt],Xt=["data-writer-tooltip"],qt=W(()=>t("i",{class:"material-symbols-outlined"},"content_paste",-1)),Jt=[qt],Qt=["data-writer-tooltip"],Yt=W(()=>t("i",{class:"material-symbols-outlined"},"move_up",-1)),eo=[Yt],to=W(()=>t("i",{class:"material-symbols-outlined"},"delete",-1)),oo=[to],no={key:2,class:"addDialog"},so={id:"validChildrenTypes"},ao=["value"],io=z({__name:"BuilderComponentShortcuts",props:{componentId:{},instancePath:{}},setup(n){const h=H(O.core),i=H(O.builderManager),{createAndInsertComponent:u,moveComponentUp:a,moveComponentDown:y,cutComponent:S,pasteComponent:l,copyComponent:c,isAddAllowed:C,isCopyAllowed:r,isCutAllowed:I,isGoToParentAllowed:v,isPasteAllowed:_,isDeleteAllowed:g,isDraggingAllowed:T,getEnabledMoves:Z,removeComponentSubtree:X,goToParent:q}=ge(h,i),me=n,{componentId:w,instancePath:fe}=$e(me),J=L(!1),f=L(null),ce=R(()=>{const $=h.getContainableTypes(w.value),p={};return $.map(P=>{const x=h.getComponentDefinition(P);p[P]=x}),p});function he($){const p=$.target.value,P=Object.entries(ce.value).filter(([F,ee])=>ee.name==p);if(P.length==0)return;const x=P[0][0];J.value=!1,u(x,w.value)}function ue(){var x,F;const $=h.getComponentById(w.value);if(!$)return;const{up:p,down:P}=Z(w.value);f.value={isAddEnabled:C(w.value),componentTypeName:(x=h.getComponentDefinition($.type))==null?void 0:x.name,toolkit:(F=h.getComponentDefinition($.type))==null?void 0:F.toolkit,isMoveUpEnabled:p,isMoveDownEnabled:P,isCopyEnabled:r(w.value),isCutEnabled:I(w.value),isPasteEnabled:_(w.value),isGoToParentEnabled:v(w.value),isDeleteEnabled:g(w.value),isDraggable:T(w.value)}}return Le(()=>{var $;return($=h.getComponentById(w.value))==null?void 0:$.position},async $=>{typeof $>"u"||$===null||ue()},{flush:"post"}),we(()=>{ue()}),($,p)=>{var P,x,F,ee,U,le,te,re,pe,ve,_e;return f.value?(s(),m("div",{key:0,draggable:(P=f.value)==null?void 0:P.isDraggable,class:"BuilderComponentShortcuts","data-writer-id":e(w)},[((x=f.value)==null?void 0:x.toolkit)!=="workflows"?(s(),m("div",Mt,N((F=f.value)==null?void 0:F.componentTypeName),1)):k("",!0),J.value?k("",!0):(s(),m(de,{key:1},[t("div",{class:E(["actionButton",{enabled:(ee=f.value)==null?void 0:ee.isAddEnabled}]),"data-writer-tooltip":"Add child","data-writer-tooltip-gap":"-4",onClick:p[0]||(p[0]=D=>{var d;return(d=f.value)!=null&&d.isAddEnabled?J.value=!J.value:void 0})},Rt,2),t("div",{class:E(["actionButton",{enabled:(U=f.value)==null?void 0:U.isMoveUpEnabled}]),"data-writer-tooltip-gap":"-4","data-writer-tooltip":`Move up (${e(ne)()}↑)`,onClick:p[1]||(p[1]=D=>{var d;return(d=f.value)!=null&&d.isMoveUpEnabled?e(a)(e(w)):void 0})},Ut,10,Ht),t("div",{class:E(["actionButton",{enabled:(le=f.value)==null?void 0:le.isMoveDownEnabled}]),"data-writer-tooltip":`Move down (${e(ne)()}↓)`,"data-writer-tooltip-gap":"-4",onClick:p[2]||(p[2]=D=>{var d;return(d=f.value)!=null&&d.isMoveDownEnabled?e(y)(e(w)):void 0})},Ft,10,Vt),t("div",{class:E(["actionButton",{enabled:(te=f.value)==null?void 0:te.isCutEnabled}]),"data-writer-tooltip":`Cut (${e(ne)()}X)`,"data-writer-tooltip-gap":"-4",onClick:p[3]||(p[3]=D=>{var d;return(d=f.value)!=null&&d.isCutEnabled?e(S)(e(w)):void 0})},zt,10,Gt),t("div",{class:E(["actionButton",{enabled:(re=f.value)==null?void 0:re.isCopyEnabled}]),"data-writer-tooltip":`Copy (${e(ne)()}C)`,"data-writer-tooltip-gap":"-4",onClick:p[4]||(p[4]=D=>{var d;return(d=f.value)!=null&&d.isCopyEnabled?e(c)(e(w)):void 0})},Zt,10,jt),t("div",{class:E(["actionButton",{enabled:(pe=f.value)==null?void 0:pe.isPasteEnabled}]),"data-writer-tooltip":`Paste (${e(ne)()}V)`,"data-writer-tooltip-gap":"-4",onClick:p[5]||(p[5]=D=>{var d;return(d=f.value)!=null&&d.isPasteEnabled?e(l)(e(w)):void 0})},Jt,10,Xt),t("div",{class:E(["actionButton",{enabled:(ve=f.value)==null?void 0:ve.isGoToParentEnabled}]),"data-writer-tooltip":`Go to parent (${e(ne)()}Shift ↑)`,"data-writer-tooltip-gap":"-4",onClick:p[6]||(p[6]=D=>{var d;return(d=f.value)!=null&&d.isGoToParentEnabled?e(q)(e(w),e(fe)):void 0})},eo,10,Qt),t("div",{class:E(["actionButton delete",{enabled:(_e=f.value)==null?void 0:_e.isDeleteEnabled}]),"data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-gap":"-4",onClick:p[7]||(p[7]=D=>{var d;return(d=f.value)!=null&&d.isDeleteEnabled?e(X)(e(w)):void 0})},oo,2)],64)),J.value?(s(),m("div",no,[t("input",{type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:he},null,32),t("datalist",so,[(s(!0),m(de,null,Ee(ce.value,(D,d)=>(s(),m("option",{key:d,value:D.name},N(D.name),9,ao))),128))])])):k("",!0)],8,xt)):k("",!0)}}}),lo=j(io,[["__scopeId","data-v-46d8a672"]]),ro=n=>(se("data-v-1871d2b3"),n=n(),ae(),n),co={class:"BuilderApp",tabindex:"-1"},uo={class:"mainGrid"},po={key:0,class:"sidebar"},vo={class:"builderMain"},_o={class:"rendererWrapper"},mo={class:"builderPanels"},fo=ro(()=>t("div",{id:"modal"},null,-1)),ho=z({__name:"BuilderApp",setup(n){Re(o=>({"6bd06110":e(r).getMode()!=="preview"?"var(--builderSidebarWidth)":"0px","61dbe85e":re.value>0?"var(--builderPanelHeight)":"0px","4fa71a22":e(r).getMode()=="workflows"?"72px":"20px",dea69b2a:re.value}));const h=G(()=>K(()=>import("./BuilderSettings-DuLpZDFt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),i=G(()=>K(()=>import("./BuilderSidebar-yISGkKuc.js"),__vite__mapDeps([8,2,3,9]),import.meta.url)),u=G(()=>K(()=>import("./ComponentRenderer-BnKENqOY.js"),__vite__mapDeps([10,2,3,6,11]),import.meta.url)),a=G(()=>K(()=>import("./BuilderInstanceTracker-CKtMVaoR.js"),__vite__mapDeps([12,2,3,13]),import.meta.url)),y=G(()=>K(()=>import("./BuilderInsertionOverlay-C6u7HpCn.js"),__vite__mapDeps([14,2,3,15]),import.meta.url)),S=G(()=>K(()=>import("./BuilderInsertionLabel-4pYFkjlm.js"),__vite__mapDeps([16,2,3,17]),import.meta.url)),l=G(()=>K(()=>import("./BuilderCodePanel-BKr2r7V6.js"),__vite__mapDeps([18,19,4,2,3,5,20,21,22,23]),import.meta.url)),c=G(()=>K(()=>import("./BuilderLogPanel-DagIY5b0.js"),__vite__mapDeps([24,21,2,3,22,25]),import.meta.url)),C=H(O.core),r=H(O.builderManager),{candidateId:I,candidateInstancePath:v,isCandidacyConfirmed:_,dropComponent:g,assignInsertionCandidacy:T,removeInsertionCandidacy:Z}=He(C),{createAndInsertComponent:X,undo:q,redo:me,moveComponent:w,moveComponentUp:fe,moveComponentDown:J,cutComponent:f,isPasteAllowed:ce,isCopyAllowed:he,isCutAllowed:ue,isDeleteAllowed:$,isGoToParentAllowed:p,pasteComponent:P,copyComponent:x,removeComponentSubtree:F,goToParent:ee}=ge(C,r),U=R(()=>r.getMode()),le=R(()=>{var o;return(o=r.getSelection())==null?void 0:o.componentId}),te=R(()=>{var o;return(o=r.getSelection())==null?void 0:o.instancePath}),re=R(()=>r.openPanels.size);function pe(o){if(o.key=="Escape"){r.setSelection(null);return}const A=Oe()?o.metaKey:o.ctrlKey;if(o.target.closest("textarea, input, select"))return;if(o.key=="z"&&A){o.preventDefault(),q();return}if(o.key=="y"&&A){o.preventDefault(),me();return}if(!r.isSelectionActive())return;const{componentId:b,instancePath:oe}=r.getSelection();if(o.key=="Delete"){if(!$(b))return;F(b);return}if(o.key=="ArrowUp"&&A&&o.shiftKey){if(!p(b))return;ee(b,oe);return}if(o.key=="ArrowUp"&&A){fe(b);return}if(o.key=="ArrowDown"&&A){J(b);return}if(o.key=="v"&&A){if(!ce(b))return;P(b);return}if(o.key=="c"&&A){if(!he(b))return;x(b);return}if(o.key=="x"&&A){if(!ue(b))return;f(b);return}}function ve(o){U.value!=="preview"&&T(o)}function _e(o){if(U.value==="preview")return;r.setSelection(null);const A=g(o);if(!A)return;const{draggedType:V,draggedId:b,parentId:oe,position:Ce}=A;b?w(b,oe,Ce):X(V,oe,Ce)}function D(o){if(U.value==="preview"||o.target.closest("[data-writer-unselectable]"))return;const V=o.target.closest("[data-writer-id]");if(!V)return;const b=V.dataset.writerId,oe=V.dataset.writerInstancePath;b!==r.getSelectedId()&&(o.preventDefault(),o.stopPropagation(),r.setSelection(b,oe,"click"))}const d=o=>{if(U.value==="preview")return;const V=o.target.closest("[data-writer-id]").dataset.writerId,{type:b}=C.getComponentById(V);o.dataTransfer.setData(`application/json;writer=${b},${V}`,"{}")};function be(o){r.setSelection(null),Z(o)}return we(()=>{document.addEventListener("keydown",pe)}),(o,A)=>(s(),m("div",co,[t("div",uo,[B(It,{class:"builderHeader"}),U.value!=="preview"?(s(),m("div",po,[B(e(i))])):k("",!0),t("div",vo,[t("div",_o,[B(e(u),{class:E(["componentRenderer",{settingsOpen:e(r).isSelectionActive()}]),onDragover:ve,onDragstart:d,onDragend:be,onDrop:_e,onClickCapture:D},null,8,["class"])]),e(r).isSelectionActive()?(s(),m("div",{key:le.value??"noneSelected",class:"settingsBar"},[t("div",null,[B(e(h))])])):k("",!0)]),t("div",mo,[e(r).openPanels.has("code")?(s(),Q(e(l),{key:0})):k("",!0),e(r).openPanels.has("log")?(s(),Q(e(c),{key:1})):k("",!0)])]),U.value!=="preview"?(s(),m(de,{key:0},[e(r).isSelectionActive()?(s(),Q(e(a),{key:te.value,class:"shortcutsTracker","prevent-settings-bar-overlap":!0,"instance-path":te.value,"vertical-offset-pixels":-48,"data-writer-cage":"",onDragstart:d,onDragend:be},{default:Y(()=>[B(lo,{"component-id":le.value,"instance-path":te.value},null,8,["component-id","instance-path"])]),_:1},8,["instance-path"])):k("",!0),e(I)&&!e(_)?(s(),m(de,{key:1},[(s(),Q(e(a),{key:e(v),class:"insertionOverlayTracker","is-off-bounds-allowed":!0,"instance-path":e(v),"match-size":!0},{default:Y(()=>[B(e(y))]),_:1},8,["instance-path"])),(s(),Q(e(a),{key:e(v),class:"insertionLabelTracker","instance-path":e(v),"vertical-offset-pixels":-48},{default:Y(()=>[B(e(S),null,{default:Y(()=>[M(N(e(C).getComponentDefinition(e(C).getComponentById(e(I)).type).name),1)]),_:1})]),_:1},8,["instance-path"]))],64)):k("",!0)],64)):k("",!0),fo,B(Tt,{id:"tooltip"})]))}}),go=j(ho,[["__scopeId","data-v-1871d2b3"]]),yo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));export{nt as B,vt as a,yo as b};
