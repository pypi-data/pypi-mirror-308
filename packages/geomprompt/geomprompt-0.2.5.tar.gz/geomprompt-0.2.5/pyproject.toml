[build-system]
requires = [
    "setuptools>=42",
    "build",
    "wheel",
    "toml"
    ]

build-backend = "setuptools.build_meta"

[project]
name = "geomprompt"
version = "0.2.5"
authors = [{name="Kenneth R. Ball (Geometric Data Analytics, Inc)", email="kenneth.ball@geomdata.com"}]
description = "GeomPrompt is the default project generated by GDA Cookiecutter. GeomPrompt contains all the boilerplate you need to create a Python package according to the best-practices of Geometric Data Analytics, Inc."
readme = "README.md"
license = {text = "AGPLv3"}
urls = { Documentation="http://rootshape.pages.geomdata.com/geomprompt", Source="https://gitlab.geomdata.com/rootshape/geomprompt" }


dependencies = [
	# See DEPENDENCIES.md
    "numpy",
    "scipy",
    "scikit-learn",
    "scikit-image",
    "pillow",
    "opencv-python",
    "torch",
    "torchvision"
]

[project.optional-dependencies]

# ruff code hygiene checks
ruff = [ "ruff==0.2.2" ]

# notebooks is for things that would help a user or developer do example experiments,
# but are not needed for direct use.
notebooks = [
    "matplotlib",
    "jupyter"
]

# testing is for things that are required only to run the test suite
testing = [
    "pytest",
    "pytest-cov",
    "pytest-html",
    "pytest-timeout",

    "pytest-xdist"
]

# docs is for things that are required only for building the online documentation
docs = [
    "jupyter",
    "nbsphinx",
    "sphinx",
    "sphinx-rtd-theme",
    "toml"
]


[tool.ruff]
# Ruff performs our linting and formatting.
# If you receive an error you don't understand, you can run `ruff rule <error code>` to learn more.
# The full list of Ruff rules are here: https://docs.astral.sh/ruff/rules/
extend-include = ["*.ipynb", "*.pyi"]

# Add files here to be completely skipped by ruff.
extend-exclude = [
    "docs",
    "sandbox",
]

output-format = "full"
target-version = "py311"

[tool.ruff.lint]
extend-ignore = [
    "D200",  # 1-line docstrings will be tolerated
    "D211",  # We want one blank line before class. Must ignore either D211 or D203.
    "D212",  # Docstring text starts on new line from the triple quotes. Ignore D213 to force it on the same line. 
    "D213",  # Docstring text starts on the same line as the triple quotes. Ignore D212 to have a new line after the triple quotes.
    "D203",  # Class docstring has a preceding space. Ignore to allow zero or one space between class declaration and class docstring.
    # "E203",  # E203 removes whitespace around colons, semicolons, and commas in expressions. https://black.readthedocs.io/en/stable/faq.html#why-are-flake8-s-e203-and-w503-violated
    # "E501",  # can't check line-length and have long hyperlinks in the docs
    # "W292",  # Files should end in a newline; Ignoring W292 does not enforce newlines at EOF.
]

extend-select = [
    "D", # Use pydoc style rules. See https://docs.astral.sh/ruff/rules/#pydocstyle-d
    "E", # Use pycodestyle errors. See https://docs.astral.sh/ruff/rules/#error-e
    "I", # Use isort rules. See https://docs.astral.sh/ruff/rules/#isort-i
    "W", # Use pycodestyle warnings. See https://docs.astral.sh/ruff/rules/#warning-w
] 

[tool.ruff.lint.pycodestyle]
max-line-length = 120
