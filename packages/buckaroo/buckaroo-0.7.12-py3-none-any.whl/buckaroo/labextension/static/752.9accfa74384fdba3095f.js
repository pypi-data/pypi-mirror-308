"use strict";(self.webpackChunkbuckaroo=self.webpackChunkbuckaroo||[]).push([[752],{7752:(e,t,r)=>{r.r(t),r.d(t,{AgGridReact:()=>ue,CustomComponentContext:()=>v,getInstance:()=>U,useGridCellEditor:()=>de,useGridDate:()=>pe,useGridFilter:()=>me,useGridFloatingFilter:()=>he,useGridMenuItem:()=>fe,warnReactiveCustomComponents:()=>W});var s=r(6540),n=r(1033),a=r(961),o=s.createContext({}),l=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();if(null==n)return;let a,o,l=!1;return n.then((e=>{l?t.destroyBean(e):(a=e,o=a.getGui(),r.appendChild(o),c(s,a))})),()=>{l=!0,a&&(o?.parentElement?.removeChild(o),t.destroyBean(a),s&&c(s,void 0))}},c=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},u=(...e)=>e.filter((e=>null!=e&&""!==e)).join(" "),i=class e{constructor(...e){this.classesMap={},e.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new e;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},d=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),p=s.version?.split(".")[0],m="16"===p||"17"===p,h=!1,f=(e,t)=>{m||!e||h?t():a.flushSync(t)};function C(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const s=[],n=[],a=new Map,o=new Map;for(let e=0;e<t.length;e++){const r=t[e];o.set(r.instanceId,r)}for(let t=0;t<e.length;t++){const r=e[t];a.set(r.instanceId,r),o.has(r.instanceId)&&s.push(r)}for(let e=0;e<t.length;e++){const r=t[e],s=r.instanceId;a.has(s)||n.push(r)}return s.length===e.length&&0===n.length?e:0===s.length&&n.length===t.length?t:0===s.length?n:0===n.length?s:[...s,...n]}var g=(0,s.forwardRef)(((e,t)=>{const{ctrlsFactory:r,context:a}=(0,s.useContext)(o),c=(0,s.useRef)(null),u=(0,s.useRef)(null),d=(0,s.useRef)(null),p=(0,s.useRef)(null),m=(0,s.useRef)(null),h=(0,s.useRef)(),[f,C]=(0,s.useState)(),[y,v]=(0,s.useState)(),[R,w]=(0,s.useState)(),[S,E]=(0,s.useState)((()=>new i)),[P,b]=(0,s.useState)((()=>new i("ag-hidden"))),[M,k]=(0,s.useState)((()=>new i("ag-hidden"))),[F,A]=(0,s.useState)((()=>new i("ag-invisible")));(0,s.useImperativeHandle)(t,(()=>({refresh:()=>!1}))),(0,s.useLayoutEffect)((()=>l(f,a,u.current)),[f]);const x=(0,s.useCallback)((t=>{if(c.current=t,!t)return void(h.current=a.destroyBean(h.current));const s={setInnerRenderer:(e,t)=>{C(e),w(t)},setChildCount:e=>v(e),addOrRemoveCssClass:(e,t)=>E((r=>r.setClass(e,t))),setContractedDisplayed:e=>k((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>b((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>A((t=>t.setClass("ag-invisible",!e)))},n=r.getInstance("groupCellRendererCtrl");n&&(h.current=a.createBean(n),h.current.init(s,t,d.current,p.current,m.current,g,e))}),[]),I=(0,s.useMemo)((()=>`ag-cell-wrapper ${S.toString()}`),[S]),B=(0,s.useMemo)((()=>`ag-group-expanded ${P.toString()}`),[P]),D=(0,s.useMemo)((()=>`ag-group-contracted ${M.toString()}`),[M]),O=(0,s.useMemo)((()=>`ag-group-checkbox ${F.toString()}`),[F]),G=f&&f.componentFromFramework,T=G?f.componentClass:void 0,N=null==f&&null!=R,U=(0,n._escapeString)(R,!0);return s.createElement("span",{className:I,ref:x,...e.colDef?{}:{role:h.current?.getCellAriaRole()}},s.createElement("span",{className:B,ref:p}),s.createElement("span",{className:D,ref:m}),s.createElement("span",{className:O,ref:d}),s.createElement("span",{className:"ag-group-value",ref:u},N&&s.createElement(s.Fragment,null,U),G&&s.createElement(T,{...f.params})),s.createElement("span",{className:"ag-group-child-count"},y))})),y=g,v=(0,s.createContext)({setMethods:()=>{}}),R=(0,s.memo)((e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:a}=e,[{key:o,...l},c]=(0,s.useState)(t);return(0,s.useEffect)((()=>{r((e=>c(e)))}),[]),s.createElement(v.Provider,{value:{setMethods:a}},s.createElement(n,{key:o,...l}))})),w=0;function S(){return"agPortalKey_"+ ++w}var E=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=S(),this.portalKey=S(),this.instanceCreated=this.isStatelessComponent()?n.AgPromise.resolve(!1):new n.AgPromise((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,n._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())&&((0,n._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout((()=>this.callMethod(e,t)));const s=r[e];return s?s.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new n.AgPromise((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,a.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,s.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function P(e,t,r){e.forEach((e=>{const s=t[e];s&&(r[e]=s)}))}var b=class extends E{constructor(){super(...arguments),this.awaitUpdateCallback=new n.AgPromise((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=R}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new n.AgPromise((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,P(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new n.AgPromise((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},M=class extends b{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},k=class extends b{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},F=class extends b{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},A=class extends b{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function x(e,t){e.parentFilterInstance((r=>{(r.setModel(t)||n.AgPromise.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var I=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){P(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),x(this.floatingFilterParams,e)}},B=class extends b{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),x(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},D=class extends b{refresh(e){this.sourceParams=e,this.refreshProps()}},O=class extends b{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},G=class extends b{refresh(e){this.sourceParams=e,this.refreshProps()}},T=class extends b{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},N=class extends b{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function U(e,t){(e?.getInstance?.()??n.AgPromise.resolve(void 0)).then((e=>t(e)))}function W(){(0,n._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var L=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,r)}))}}},H=(0,s.memo)((({ctrl:e})=>{const t=e.isAlive(),{context:r}=(0,s.useContext)(o),a=t?e.getColId():void 0,[c,u]=(0,s.useState)(),i=(0,s.useRef)(),p=(0,s.useRef)(null),m=(0,s.useRef)(null),h=(0,s.useRef)(null),f=(0,s.useRef)(),C=(0,s.useRef)();t&&!C.current&&(C.current=new n.CssClassManager((()=>p.current)));const g=(0,s.useCallback)((s=>{if(p.current=s,i.current=s?r.createBean(new n._EmptyBean):r.destroyBean(i.current),!s||!t)return;const a={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(e,t)=>C.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{p.current&&(e?(0,n._setAriaSort)(p.current,e):(0,n._removeAriaSort)(p.current))},setUserCompDetails:e=>u(e),getUserCompInstance:()=>f.current||void 0};e.setComp(a,s,m.current,h.current,i.current);const o=e.getSelectAllGui();m.current?.insertAdjacentElement("afterend",o),i.current.addDestroyFunc((()=>o.remove()))}),[]);(0,s.useLayoutEffect)((()=>l(c,r,h.current,f)),[c]),(0,s.useEffect)((()=>{e.setDragSource(p.current)}),[c]);const y=(0,s.useMemo)((()=>!(!c?.componentFromFramework||!d(c.componentClass))),[c]),v=c&&c.componentFromFramework,R=c&&c.componentClass;return s.createElement("div",{ref:g,className:"ag-header-cell","col-id":a,role:"columnheader"},s.createElement("div",{ref:m,className:"ag-header-cell-resize",role:"presentation"}),s.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&y&&s.createElement(R,{...c.params}),v&&!y&&s.createElement(R,{...c.params,ref:f})))})),_=(0,s.memo)((({ctrl:e})=>{const{context:t,gos:r}=(0,s.useContext)(o),[a,c]=(0,s.useState)((()=>new i("ag-header-cell","ag-floating-filter"))),[u,p]=(0,s.useState)((()=>new i)),[m,h]=(0,s.useState)((()=>new i("ag-floating-filter-button","ag-hidden"))),[f,C]=(0,s.useState)("false"),[g,y]=(0,s.useState)(),[,R]=(0,s.useState)(1),w=(0,s.useRef)(),S=(0,s.useRef)(null),E=(0,s.useRef)(null),P=(0,s.useRef)(null),b=(0,s.useRef)(null),M=(0,s.useRef)(),k=(0,s.useRef)(),F=e=>{null!=e&&M.current&&M.current(e)},A=(0,s.useCallback)((r=>{if(S.current=r,w.current=r?t.createBean(new n._EmptyBean):t.destroyBean(w.current),!r)return;k.current=new n.AgPromise((e=>{M.current=e}));const s={addOrRemoveCssClass:(e,t)=>c((r=>r.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>p((r=>r.setClass(e,t))),setButtonWrapperDisplayed:e=>{h((t=>t.setClass("ag-hidden",!e))),C(e?"false":"true")},setWidth:e=>{S.current&&(S.current.style.width=e)},setCompDetails:e=>y(e),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:e=>b.current?.appendChild(e)};e.setComp(s,r,b.current,E.current,w.current)}),[]);(0,s.useLayoutEffect)((()=>l(g,t,E.current,F)),[g]);const x=(0,s.useMemo)((()=>a.toString()),[a]),B=(0,s.useMemo)((()=>u.toString()),[u]),D=(0,s.useMemo)((()=>m.toString()),[m]),O=(0,s.useMemo)((()=>!!(g&&g.componentFromFramework&&d(g.componentClass))),[g]),G=(0,s.useMemo)((()=>r.get("reactiveCustomComponents")),[]),T=(0,s.useMemo)((()=>{if(g){if(G){const e=new I(g.params,(()=>R((e=>e+1))));return F(e),e}g.componentFromFramework&&W()}}),[g]),N=T?.getProps(),U=g&&g.componentFromFramework,L=g&&g.componentClass;return s.createElement("div",{ref:A,className:x,role:"gridcell"},s.createElement("div",{ref:E,className:B,role:"presentation"},U&&!G&&s.createElement(L,{...g.params,ref:O?()=>{}:F}),U&&G&&s.createElement(v.Provider,{value:{setMethods:e=>T.setMethods(e)}},s.createElement(L,{...N}))),s.createElement("div",{ref:P,"aria-hidden":f,className:D,role:"presentation"},s.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),V=(0,s.memo)((({ctrl:e})=>{const{context:t}=(0,s.useContext)(o),[r,a]=(0,s.useState)((()=>new i)),[c,u]=(0,s.useState)((()=>new i)),[p,m]=(0,s.useState)("false"),[h,f]=(0,s.useState)(),[C,g]=(0,s.useState)(),y=(0,s.useMemo)((()=>e.getColId()),[]),v=(0,s.useRef)(),R=(0,s.useRef)(null),w=(0,s.useRef)(null),S=(0,s.useRef)(null),E=(0,s.useRef)(),P=(0,s.useCallback)((r=>{if(R.current=r,v.current=r?t.createBean(new n._EmptyBean):t.destroyBean(v.current),!r)return;const s={setWidth:e=>{R.current&&(R.current.style.width=e)},addOrRemoveCssClass:(e,t)=>a((r=>r.setClass(e,t))),setHeaderWrapperHidden:e=>{const t=S.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=S.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>g(e),setResizableDisplayed:e=>{u((t=>t.setClass("ag-hidden",!e))),m(e?"false":"true")},setAriaExpanded:e=>f(e),getUserCompInstance:()=>E.current||void 0};e.setComp(s,r,w.current,S.current,v.current)}),[]);(0,s.useLayoutEffect)((()=>l(C,t,S.current)),[C]),(0,s.useEffect)((()=>{R.current&&e.setDragSource(R.current)}),[C]);const b=(0,s.useMemo)((()=>!(!C?.componentFromFramework||!d(C.componentClass))),[C]),M=(0,s.useMemo)((()=>"ag-header-group-cell "+r.toString()),[r]),k=(0,s.useMemo)((()=>"ag-header-cell-resize "+c.toString()),[c]),F=C&&C.componentFromFramework,A=C&&C.componentClass;return s.createElement("div",{ref:P,className:M,"col-id":y,role:"columnheader","aria-expanded":h},s.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&b&&s.createElement(A,{...C.params}),F&&!b&&s.createElement(A,{...C.params,ref:E})),s.createElement("div",{ref:w,"aria-hidden":p,className:k}))})),j=(0,s.memo)((({ctrl:e})=>{const{context:t}=(0,s.useContext)(o),{topOffset:r,rowHeight:a}=(0,s.useMemo)((()=>e.getTopAndHeight()),[]),l=e.getAriaRowIndex(),c=e.getHeaderRowClass(),[u,i]=(0,s.useState)((()=>a+"px")),[d,p]=(0,s.useState)((()=>r+"px")),m=(0,s.useRef)(null),h=(0,s.useRef)(null),[g,y]=(0,s.useState)((()=>e.getHeaderCtrls())),v=(0,s.useRef)(),R=(0,s.useRef)(null),w=(0,s.useCallback)((r=>{if(R.current=r,v.current=r?t.createBean(new n._EmptyBean):t.destroyBean(v.current),!r)return;const s={setHeight:e=>i(e),setTop:e=>p(e),setHeaderCtrls:(e,t,r)=>{h.current=m.current,m.current=e;const s=C(h.current,e,t);s!==h.current&&f(r,(()=>y(s)))},setWidth:e=>{R.current&&(R.current.style.width=e)}};e.setComp(s,v.current,!1)}),[]),S=(0,s.useMemo)((()=>({height:u,top:d})),[u,d]),E=(0,s.useCallback)((t=>{switch(e.getType()){case n.HeaderRowType.COLUMN_GROUP:return s.createElement(V,{ctrl:t,key:t.instanceId});case n.HeaderRowType.FLOATING_FILTER:return s.createElement(_,{ctrl:t,key:t.instanceId});default:return s.createElement(H,{ctrl:t,key:t.instanceId})}}),[]);return s.createElement("div",{ref:w,className:c,role:"row",style:S,"aria-rowindex":l},g.map(E))})),$=(0,s.memo)((({pinned:e})=>{const[t,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)([]),{context:c}=(0,s.useContext)(o),u=(0,s.useRef)(null),i=(0,s.useRef)(null),d=(0,s.useRef)(),p="left"===e,m="right"===e,h=!p&&!m,f=(0,s.useCallback)((t=>{if(u.current=t,d.current=t?c.createBean(new n.HeaderRowContainerCtrl(e)):c.destroyBean(d.current),!t)return;const s={setDisplayed:r,setCtrls:e=>l(e),setCenterWidth:e=>{i.current&&(i.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};d.current.setComp(s,u.current)}),[]),C=t?"":"ag-hidden",g=()=>a.map((e=>s.createElement(j,{ctrl:e,key:e.instanceId})));return s.createElement(s.Fragment,null,p&&s.createElement("div",{ref:f,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},g()),m&&s.createElement("div",{ref:f,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},g()),h&&s.createElement("div",{ref:f,className:"ag-header-viewport "+C,role:"presentation"},s.createElement("div",{ref:i,className:"ag-header-container",role:"rowgroup"},g())))})),z=(0,s.memo)((()=>{const[e,t]=(0,s.useState)((()=>new i)),[r,a]=(0,s.useState)(),{context:l}=(0,s.useContext)(o),c=(0,s.useRef)(null),u=(0,s.useRef)(),d=(0,s.useCallback)((e=>{if(c.current=e,u.current=e?l.createBean(new n.GridHeaderCtrl):l.destroyBean(u.current),!e)return;const r={addOrRemoveCssClass:(e,r)=>t((t=>t.setClass(e,r))),setHeightAndMinHeight:e=>a(e)};u.current.setComp(r,e,e)}),[]),p=(0,s.useMemo)((()=>"ag-header "+e.toString()),[e]),m=(0,s.useMemo)((()=>({height:r,minHeight:r})),[r]);return s.createElement("div",{ref:d,className:p,style:m,role:"presentation"},s.createElement($,{pinned:"left"}),s.createElement($,{pinned:null}),s.createElement($,{pinned:"right"}))})),K=(e,t)=>{(0,s.useEffect)((()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const s=document.createComment(e);return t.insertBefore(s,r),()=>{t.removeChild(s)}}}}),[e])},q=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new n.AgPromise((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){P(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Q=(0,s.memo)((e=>{const[t,r]=(0,s.useState)(),{context:n,popupService:l,localeService:c,gos:u,editService:i}=(0,s.useContext)(o);return(t=>{const a=(0,s.useRef)((()=>{const{editDetails:t,cellCtrl:s,eParentCell:a}=e,{compDetails:o}=t,d=u.get("stopEditingWhenCellsLoseFocus"),p=n.createBean(i.createPopupEditorWrapper(o.params)),m=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&m.appendChild(t)}const h={column:s.getColumn(),rowNode:s.getRowNode(),type:"popupCellEditor",eventSource:a,ePopup:m,position:t.popupPosition,keepWithinBounds:!0},f=l.positionPopupByComponent.bind(l,h),C=c.getLocaleTextFunc(),g=l.addPopup({modal:d,eChild:m,closeOnEsc:!0,closedCallback:()=>{s.onPopupEditorClosed()},anchorToElement:a,positionCallback:f,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),y=g?g.hideFunc:void 0;return r(p),e.jsChildComp?.afterGuiAttached?.(),()=>{y?.(),n.destroyBean(p)}})),o=(0,s.useRef)(),d=(0,s.useRef)(!1),p=(0,s.useRef)(!1),[,m]=(0,s.useState)(0);d.current&&(p.current=!0),(0,s.useEffect)((()=>(d.current||(o.current=a.current(),d.current=!0),m((e=>e+1)),()=>{p.current&&o.current?.()})),[])})(),s.createElement(s.Fragment,null,t&&e.wrappedContent&&(0,a.createPortal)(e.wrappedContent,t.getGui()))})),Y=(e,t,r)=>{const n=e.compProxy;return s.createElement(s.Fragment,null,n?((e,t,r)=>{const{compProxy:n}=e;r(n);const a=n.getProps(),o=d(t);return s.createElement(v.Provider,{value:{setMethods:e=>n.setMethods(e)}},o?s.createElement(t,{...a}):s.createElement(t,{...a,ref:e=>n.setRef(e)}))})(e,t,r):s.createElement(t,{...e.compDetails.params,ref:r}))},Z=(0,s.memo)((({cellCtrl:e,printLayout:t,editingRow:r})=>{const{context:a}=(0,s.useContext)(o),{colIdSanitised:l,instanceId:c}=e,u=(0,s.useRef)(),[i,p]=(0,s.useState)((()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1})),[m,h]=(0,s.useState)(),[f,C]=(0,s.useState)(1),[g,y]=(0,s.useState)(),[v,R]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),[b,M]=(0,s.useState)(),k=(0,s.useMemo)((()=>e.isForceWrapper()),[e]),F=(0,s.useMemo)((()=>e.getCellAriaRole()),[e]),A=(0,s.useRef)(null),x=(0,s.useRef)(null),I=(0,s.useRef)(),B=(0,s.useRef)(),D=(0,s.useRef)(),O=(0,s.useRef)([]),G=(0,s.useRef)(),[T,N]=(0,s.useState)(0),U=(0,s.useCallback)((e=>{G.current=e,N((e=>e+1))}),[]),L=k||null!=i&&(v||E||w),H=(0,s.useCallback)((t=>{if(B.current=t,t){const r=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout((()=>{r?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()}))}}),[e]),_=(0,s.useRef)();_.current||(_.current=new n.CssClassManager((()=>A.current))),((e,t,r,n,a,l)=>{const{context:c}=(0,s.useContext)(o),u=(0,s.useCallback)((()=>{const e=a.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),a.current=void 0}),[]);(0,s.useEffect)((()=>{const s=null!=e,n=e?.compDetails&&!e.compDetails.componentFromFramework;if(!s||!n||t&&null==r)return void u();const o=e.compDetails;if(a.current){const t=a.current,r=!(null==t.refresh||0!=e.force)&&t.refresh(o.params);if(!0===r||void 0===r)return;u()}const c=o.newAgStackInstance();null!=c&&c.then((e=>{if(!e)return;const s=e.getGui();s&&((t?r:l.current).appendChild(s),a.current=e)}))}),[e,t,n]),(0,s.useEffect)((()=>u),[])})(i,L,G.current,T,I,A);const V=(0,s.useRef)();(0,s.useLayoutEffect)((()=>{const e=V.current,t=i;if(V.current=i,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const r=e.compDetails,s=t.compDetails;r.componentClass==s.componentClass&&null!=x.current?.refresh&&1!=x.current.refresh(s.params)&&C((e=>e+1))}),[i]),(0,s.useLayoutEffect)((()=>{if(!m||m.compDetails.componentFromFramework)return;const e=m.compDetails,t=!0===m.popup,r=e.newAgStackInstance();return r.then((e=>{if(!e)return;const r=e.getGui();if(H(e),!t){const t=(k?D:A).current;t?.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}M(e)})),()=>{r.then((e=>{const t=e.getGui();a.destroyBean(e),H(void 0),M(void 0),t?.parentElement?.removeChild(t)}))}}),[m]);const j=(0,s.useCallback)((t=>{if(D.current=t,!t)return O.current.forEach((e=>e())),void(O.current=[]);const r=e=>{if(e){const r=e.getGui();t.insertAdjacentElement("afterbegin",r),O.current.push((()=>{a.destroyBean(e),(0,n._removeFromParent)(r)}))}return e};v&&r(e.createSelectionCheckbox()),E&&r(e.createDndSource()),w&&r(e.createRowDragComp())}),[e,a,E,w,v]),$=(0,s.useCallback)((s=>{if(A.current=s,u.current=s?a.createBean(new n._EmptyBean):a.destroyBean(u.current),!s||!e)return;const o={addOrRemoveCssClass:(e,t)=>_.current.addOrRemoveCssClass(e,t),setUserStyles:e=>y(e),getFocusableElement:()=>A.current,setIncludeSelection:e=>R(e),setIncludeRowDrag:e=>S(e),setIncludeDndSource:e=>P(e),getCellEditor:()=>B.current||null,getCellRenderer:()=>x.current??I.current,getParentOfValue:()=>G.current??D.current??A.current,setRenderDetails:(e,t,r)=>{p((s=>s?.compDetails!==e||s?.value!==t||s?.force!==r?{value:t,compDetails:e,force:r}:s))},setEditDetails:(e,t,r,s)=>{if(e){let n;s?n=new q(e.params,(()=>C((e=>e+1)))):e.componentFromFramework&&W(),h({compDetails:e,popup:t,popupPosition:r,compProxy:n}),t||p(void 0)}else h((e=>{e?.compProxy&&(B.current=void 0)}))}},l=D.current||void 0;e.setComp(o,s,l,t,r,u.current)}),[]),z=(0,s.useMemo)((()=>!(!i?.compDetails?.componentFromFramework||!d(i.compDetails.componentClass))),[i]);(0,s.useLayoutEffect)((()=>{A.current&&(_.current.addOrRemoveCssClass("ag-cell-value",!L),_.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),_.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),_.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),e.getRowCtrl()?.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&A.current.focus({preventScroll:!0}))}));const K=()=>s.createElement(s.Fragment,null,null!=i&&((e,t,r,n,a,o,l)=>{const{compDetails:c,value:u}=e,i=!c,d=c&&c.componentFromFramework,p=c&&c.componentClass,m=u?.toString?u.toString():u,h=()=>s.createElement(s.Fragment,null,i&&s.createElement(s.Fragment,null,m),d&&!o&&s.createElement(p,{...c.params,key:t,ref:n}),d&&o&&s.createElement(p,{...c.params,key:t}));return s.createElement(s.Fragment,null,a?s.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:l},h()):h())})(i,f,c,x,L,z,U),null!=m&&((e,t,r,n,a)=>{const o=e.compDetails,l=o.componentClass,c=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,i=!o.componentFromFramework&&e.popup;return s.createElement(s.Fragment,null,c&&Y(e,l,t),u&&s.createElement(Q,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Y(e,l,t)}),i&&a&&s.createElement(Q,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:a}))})(m,H,A.current,e,b)),Z=(0,s.useCallback)((()=>e.onFocusOut()),[]);return s.createElement("div",{ref:$,style:g,role:F,"col-id":l,onBlur:Z},L?s.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:j},K()):K())})),J=(0,s.memo)((({rowCtrl:e,containerType:t})=>{const{context:r,gos:a}=(0,s.useContext)(o),c=(0,s.useRef)(),u=(0,s.useRef)(e.getDomOrder()),i=e.isFullWidth(),p=e.getRowNode().displayed,[m,h]=(0,s.useState)((()=>p?e.getRowIndex():null)),[g,y]=(0,s.useState)((()=>e.getRowId())),[v,R]=(0,s.useState)((()=>e.getBusinessKey())),[w,S]=(0,s.useState)((()=>e.getRowStyles())),E=(0,s.useRef)(null),P=(0,s.useRef)(null),[b,M]=(0,s.useState)((()=>null)),[k,F]=(0,s.useState)(),[A,x]=(0,s.useState)((()=>p?e.getInitialRowTop(t):void 0)),[I,B]=(0,s.useState)((()=>p?e.getInitialTransform(t):void 0)),D=(0,s.useRef)(null),O=(0,s.useRef)(),G=(0,s.useRef)(!1),[T,N]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(G.current||!k||T>10)return;const t=D.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),G.current=!0):N((e=>e+1))}),[k,T]);const U=(0,s.useRef)();U.current||(U.current=new n.CssClassManager((()=>D.current)));const W=(0,s.useCallback)((s=>{if(D.current=s,c.current=s?r.createBean(new n._EmptyBean):r.destroyBean(c.current),!s)return void e.unsetComp(t);if(!e.isAlive())return;const a={setTop:x,setTransform:B,addOrRemoveCssClass:(e,t)=>U.current.addOrRemoveCssClass(e,t),setDomOrder:e=>u.current=e,setRowIndex:h,setRowId:y,setRowBusinessKey:R,setUserStyles:S,setCellCtrls:(e,t)=>{P.current=E.current,E.current=e;const r=C(P.current,e,u.current);r!==P.current&&f(t,(()=>M(r)))},showFullWidth:e=>F(e),getFullWidthCellRenderer:()=>O.current,refreshFullWidth:e=>j.current?(F((t=>({...t,params:e()}))),!0):!(!O.current||!O.current.refresh)&&O.current.refresh(e())};e.setComp(a,s,t,c.current)}),[]);(0,s.useLayoutEffect)((()=>l(k,r,D.current,O)),[k]);const L=(0,s.useMemo)((()=>{const e={top:A,transform:I};return Object.assign(e,w),e}),[A,I,w]),H=i&&k?.componentFromFramework,_=!i&&null!=b,V=(0,s.useMemo)((()=>!(!k?.componentFromFramework||!d(k.componentClass))),[k]),j=(0,s.useRef)(!1);return(0,s.useEffect)((()=>{j.current=V&&!!k&&!!a.get("reactiveCustomComponents")}),[V,k]),s.createElement("div",{ref:W,role:"row",style:L,"row-index":m,"row-id":g,"row-business-key":v},_&&b?.map((t=>s.createElement(Z,{cellCtrl:t,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:t.instanceId}))),H&&(()=>{const e=k.componentClass;return s.createElement(s.Fragment,null,V?s.createElement(e,{...k.params}):s.createElement(e,{...k.params,ref:O}))})())})),X=(0,s.memo)((({name:e})=>{const{context:t}=(0,s.useContext)(o),r=(0,s.useMemo)((()=>(0,n._getRowContainerOptions)(e)),[e]),a=(0,s.useRef)(null),l=(0,s.useRef)(null),c=(0,s.useRef)([]),i=(0,s.useRef)([]),[d,p]=(0,s.useState)((()=>[])),m=(0,s.useRef)(!1),h=(0,s.useRef)(),g=(0,s.useMemo)((()=>u(r.viewport)),[r]),y=(0,s.useMemo)((()=>u(r.container)),[r]),v="center"===r.type;K(" AG Row Container "+e+" ",v?a:l);const R=(0,s.useCallback)((()=>v?null!=a.current&&null!=l.current:null!=l.current),[]),w=(0,s.useCallback)((()=>v?null==a.current&&null==l.current:null==l.current),[]),S=(0,s.useCallback)((()=>{if(w()&&(h.current=t.destroyBean(h.current)),R()){const r=e=>{const t=C(i.current,c.current,m.current);t!==i.current&&(i.current=t,f(e,(()=>p(t))))},s={setHorizontalScroll:e=>{a.current&&(a.current.scrollLeft=e)},setViewportHeight:e=>{a.current&&(a.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{const s=!!t&&c.current.length>0&&e.length>0;c.current=e,r(s)},setDomOrder:e=>{m.current!=e&&(m.current=e,r(!1))},setContainerWidth:e=>{l.current&&(l.current.style.width=e)},setOffsetTop:e=>{l.current&&(l.current.style.transform=`translateY(${e})`)}};h.current=t.createBean(new n.RowContainerCtrl(e)),h.current.setComp(s,l.current,a.current)}}),[R,w]),E=(0,s.useCallback)((e=>{l.current=e,S()}),[S]),P=(0,s.useCallback)((e=>{a.current=e,S()}),[S]),b=()=>s.createElement("div",{className:y,ref:E,role:"rowgroup"},d.map((e=>s.createElement(J,{rowCtrl:e,containerType:r.type,key:e.instanceId}))));return s.createElement(s.Fragment,null,v?s.createElement("div",{className:g,ref:P,role:"presentation"},b()):b())})),ee=(0,s.memo)((()=>{const{context:e,resizeObserverService:t}=(0,s.useContext)(o),[r,a]=(0,s.useState)(""),[l,c]=(0,s.useState)(0),[i,d]=(0,s.useState)(0),[p,m]=(0,s.useState)("0px"),[h,f]=(0,s.useState)("0px"),[C,g]=(0,s.useState)("100%"),[y,v]=(0,s.useState)("0px"),[R,w]=(0,s.useState)("0px"),[S,E]=(0,s.useState)("100%"),[P,b]=(0,s.useState)(""),[M,k]=(0,s.useState)(""),[F,A]=(0,s.useState)(null),[x,I]=(0,s.useState)(""),[B,D]=(0,s.useState)(null),[O,G]=(0,s.useState)("ag-layout-normal"),T=(0,s.useRef)();T.current||(T.current=new n.CssClassManager((()=>N.current)));const N=(0,s.useRef)(null),U=(0,s.useRef)(null),W=(0,s.useRef)(null),L=(0,s.useRef)(null),H=(0,s.useRef)(null),_=(0,s.useRef)(null),V=(0,s.useRef)(null),j=(0,s.useRef)([]),$=(0,s.useRef)([]);K(" AG Grid Body ",N),K(" AG Pinned Top ",U),K(" AG Sticky Top ",W),K(" AG Middle ",_),K(" AG Pinned Bottom ",V);const q=(0,s.useCallback)((r=>{if(N.current=r,!r)return j.current=e.destroyBeans(j.current),$.current.forEach((e=>e())),void($.current=[]);if(!e)return;const s=(e,t)=>{e.appendChild(t),$.current.push((()=>e.removeChild(t)))},o=(t,r,n)=>{s(t,document.createComment(n)),s(t,(t=>{const r=e.createBean(new t);return j.current.push(r),r})(r).getGui())};o(r,n.FakeHScrollComp," AG Fake Horizontal Scroll "),o(r,n.OverlayWrapperComponent," AG Overlay Wrapper "),H.current&&o(H.current,n.FakeVScrollComp," AG Fake Vertical Scroll ");const l={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{N.current&&(0,n._setAriaColCount)(N.current,e)},setRowCount:e=>{N.current&&(0,n._setAriaRowCount)(N.current,e)},setTopHeight:c,setBottomHeight:d,setStickyTopHeight:m,setStickyTopTop:f,setStickyTopWidth:g,setTopDisplay:b,setBottomDisplay:k,setColumnMovingCss:(e,t)=>T.current.addOrRemoveCssClass(e,t),updateLayoutClasses:G,setAlwaysVerticalScrollClass:A,setPinnedTopBottomOverflowY:I,setCellSelectableCss:(e,t)=>D(t?e:null),setBodyViewportWidth:e=>{_.current&&(_.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(_.current){const r=t.observeResize(_.current,e);$.current.push((()=>r()))}},setStickyBottomHeight:v,setStickyBottomBottom:w,setStickyBottomWidth:E},u=e.createBean(new n.GridBodyCtrl);j.current.push(u),u.setComp(l,r,_.current,U.current,V.current,W.current,L.current)}),[]),Q=(0,s.useMemo)((()=>u("ag-root","ag-unselectable",O)),[O]),Y=(0,s.useMemo)((()=>u("ag-body-viewport",r,O,F,B)),[r,O,F,B]),Z=(0,s.useMemo)((()=>u("ag-body",O)),[O]),J=(0,s.useMemo)((()=>u("ag-floating-top",B)),[B]),ee=(0,s.useMemo)((()=>u("ag-sticky-top",B)),[B]),te=(0,s.useMemo)((()=>u("ag-sticky-bottom","0px"===y?"ag-hidden":null,B)),[B,y]),re=(0,s.useMemo)((()=>u("ag-floating-bottom",B)),[B]),se=(0,s.useMemo)((()=>({height:l,minHeight:l,display:P,overflowY:x})),[l,P,x]),ne=(0,s.useMemo)((()=>({height:p,top:h,width:C})),[p,h,C]),ae=(0,s.useMemo)((()=>({height:y,bottom:R,width:S})),[y,R,S]),oe=(0,s.useMemo)((()=>({height:i,minHeight:i,display:M,overflowY:x})),[i,M,x]),le=e=>s.createElement(X,{name:e,key:`${e}-container`}),ce=({section:e,children:t,className:r,style:n})=>s.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(le));return s.createElement("div",{ref:q,className:Q,role:"treegrid"},s.createElement(z,null),ce({section:U,className:J,style:se,children:["topLeft","topCenter","topRight","topFullWidth"]}),s.createElement("div",{className:Z,ref:H,role:"presentation"},ce({section:_,className:Y,children:["left","center","right","fullWidth"]})),ce({section:W,className:ee,style:ne,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ce({section:L,className:te,style:ae,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ce({section:V,className:re,style:oe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),te=(0,s.forwardRef)(((e,t)=>{const{children:r,eFocusableElement:a,onTabKeyDown:l,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u}=e,{context:i}=(0,s.useContext)(o),d=(0,s.useRef)(null),p=(0,s.useRef)(null),m=(0,s.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,p].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};(0,s.useImperativeHandle)(t,(()=>({forceFocusOutOfContainer(e){m.current?.forceFocusOutOfContainer(e)}})));const f=(0,s.useCallback)((()=>{const e=d.current,t=p.current;if(e||t){if(e&&t){const r={setTabIndex:h};m.current=i.createBean(new n.TabGuardCtrl({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:a,onTabKeyDown:l,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>c.focusInnerElement(e)}))}}else m.current=i.destroyBean(m.current)}),[]),C=(0,s.useCallback)((e=>{d.current=e,f()}),[f]),g=(0,s.useCallback)((e=>{p.current=e,f()}),[f]),y=e=>{const t="top"===e?n.TabGuardClassNames.TAB_GUARD_TOP:n.TabGuardClassNames.TAB_GUARD_BOTTOM;return s.createElement("div",{className:`${n.TabGuardClassNames.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?C:g})};return s.createElement(s.Fragment,null,y("top"),r,y("bottom"))})),re=(0,s.memo)(te),se=(0,s.memo)((({context:e})=>{const[t,r]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[c,i]=(0,s.useState)(""),[d,p]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[f,C]=(0,s.useState)(!1),[g,y]=(0,s.useState)(),v=(0,s.useRef)(),R=(0,s.useRef)(null),w=(0,s.useRef)(),[S,E]=(0,s.useState)(null),P=(0,s.useRef)((()=>{})),b=(0,s.useRef)(),M=(0,s.useRef)([]),k=(0,s.useCallback)((()=>{}),[]),F=(0,s.useMemo)((()=>e.isDestroyed()?null:e.getBeans()),[e]);K(" AG Grid ",R);const A=(0,s.useCallback)((t=>{if(R.current=t,v.current=t?e.createBean(new n.GridCtrl):e.destroyBean(v.current),!t||e.isDestroyed())return;const s=v.current;P.current=s.focusInnerElement.bind(s);const a={destroyGridUi:()=>{},setRtlClass:r,setGridThemeClass:l,forceFocusOutOfContainer:e=>{e||!b.current?.isDisplayed()?w.current?.forceFocusOutOfContainer(e):b.current.forceFocusOutOfContainer(e)},updateLayoutClasses:i,getFocusableContainers:()=>{const e=[],t=R.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),M.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:p,setUserSelect:h};s.setComp(a,t,t),C(!0)}),[]);(0,s.useEffect)((()=>{const t=v.current,r=R.current;if(!(g&&F&&t&&S&&r))return;const s=[],{watermarkSelector:n,paginationSelector:a,sideBarSelector:o,statusBarSelector:l,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),u=[];if(c){const t=e.createBean(new c.component),n=t.getGui();r.insertAdjacentElement("afterbegin",n),u.push(n),s.push(t)}if(o){const t=e.createBean(new o.component),r=t.getGui(),n=S.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),s.push(t),M.current.push(t)}const i=t=>{const n=e.createBean(new t),a=n.getGui();return r.insertAdjacentElement("beforeend",a),u.push(a),s.push(n),n};if(l&&i(l.component),a){const e=i(a.component);b.current=e,M.current.push(e)}return n&&i(n.component),()=>{e.destroyBeans(s),u.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[g,S,F]);const x=(0,s.useMemo)((()=>u("ag-root-wrapper",t,a,c)),[t,a,c]),I=(0,s.useMemo)((()=>u("ag-root-wrapper-body","ag-focus-managed",c)),[c]),B=(0,s.useMemo)((()=>({userSelect:null!=m?m:"",WebkitUserSelect:null!=m?m:"",cursor:null!=d?d:""})),[m,d]),D=(0,s.useCallback)((e=>{w.current=e,y(null!==e)}),[]);return s.createElement("div",{ref:A,className:x,style:B,role:"presentation"},s.createElement("div",{className:I,ref:E,role:"presentation"},f&&S&&F&&s.createElement(o.Provider,{value:F},s.createElement(re,{ref:D,eFocusableElement:S,onTabKeyDown:k,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},s.createElement(ee,null)))))})),ne=class extends n.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},ae=e=>{const t=(0,s.useRef)(),r=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useRef)([]),l=(0,s.useRef)([]),c=(0,s.useRef)(e),u=(0,s.useRef)(),i=(0,s.useRef)(),d=(0,s.useRef)(!1),[p,m]=(0,s.useState)(void 0),[,h]=(0,s.useState)(0),f=(0,s.useCallback)((s=>{if(r.current=s,!s)return o.current.forEach((e=>e())),void(o.current.length=0);const c=e.modules||[];a.current||(a.current=new L((()=>h((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push((()=>{a.current?.destroy(),a.current=null})));const p=(0,n._combineAttributesAndGridOptions)(e.gridOptions,e),f=new ce((()=>{if(d.current){const e=()=>u.current?.shouldQueueUpdates()?void 0:l.current.shift();let t=e();for(;t;)t(),t=e()}}));u.current=f;const C=new ne,g={providedBeanInstances:{frameworkComponentWrapper:new oe(a.current,p.reactiveCustomComponents??(0,n._getGlobalGridOption)("reactiveCustomComponents")??!0),renderStatusService:C},modules:c,frameworkOverrides:f},y=new n.GridCoreCreator;p.gridId??(p.gridId=i.current),t.current=y.create(s,p,(r=>{m(r),r.createBean(C),o.current.push((()=>{r.destroy()})),r.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{if(r.isDestroyed())return;const s=t.current;s&&e.setGridApi?.(s)}))}),(e=>{e.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{l.current.forEach((e=>e())),l.current.length=0,d.current=!0}))}),g),o.current.push((()=>{t.current=void 0})),t.current&&(i.current=t.current.getGridId())}),[]),C=(0,s.useMemo)((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),g=(0,s.useCallback)((e=>{d.current&&!u.current?.shouldQueueUpdates()?e():l.current.push(e)}),[]);return(0,s.useEffect)((()=>{const r=function(e,t){const r={};return Object.keys(t).forEach((s=>{const n=t[s];e[s]!==n&&(r[s]=n)})),r}(c.current,e);c.current=e,g((()=>{t.current&&(0,n._processOnChange)(r,t.current)}))}),[e]),s.createElement("div",{style:C,className:e.className,ref:f},p&&!p.isDestroyed()?s.createElement(se,{context:p}):null,a.current?.getPortals()??null)},oe=class extends n.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return A;case"floatingFilterComponent":return B;case"dateComponent":return k;case"dragAndDropImageComponent":return F;case"loadingOverlayComponent":return D;case"noRowsOverlayComponent":return G;case"statusPanel":return T;case"toolPanel":return N;case"menuItem":return O;case"cellRenderer":return M}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":W()}const r=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new E(e,this.parent,t,r)}},le=(0,s.forwardRef)(((e,t)=>{const{ctrlsFactory:r,context:a,gos:l,resizeObserverService:c,rowModel:u}=(0,s.useContext)(o),[d,p]=(0,s.useState)((()=>new i)),[m,h]=(0,s.useState)((()=>new i)),[f,C]=(0,s.useState)(),[g,y]=(0,s.useState)(),v=(0,s.useRef)(),R=(0,s.useRef)(null),w=(0,s.useRef)(),S=(0,s.useMemo)((()=>n.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId())),[e]),E=(0,s.useMemo)((()=>d.toString()+" ag-details-row"),[d]),P=(0,s.useMemo)((()=>m.toString()+" ag-details-grid"),[m]);t&&(0,s.useImperativeHandle)(t,(()=>({refresh:()=>v.current?.refresh()??!1}))),e.template&&(0,n._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const b=(0,s.useCallback)((t=>{if(R.current=t,!t)return v.current=a.destroyBean(v.current),void w.current?.();const s={addOrRemoveCssClass:(e,t)=>p((r=>r.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>h((r=>r.setClass(e,t))),setDetailGrid:e=>C(e),setRowData:e=>y(e),getGui:()=>R.current},o=r.getInstance("detailCellRenderer");if(o&&(a.createBean(o),o.init(s,e),v.current=o,l.get("detailRowAutoHeight"))){const r=()=>{if(null==R.current)return;const t=R.current.clientHeight;null!=t&&t>0&&setTimeout((()=>{e.node.setRowHeight(t),((0,n._isClientSideRowModel)(l)||(0,n._isServerSideRowModel)(l))&&u.onRowHeightChanged()}),0)};w.current=c.observeResize(t,r),r()}}),[]),M=(0,s.useCallback)((e=>{v.current?.registerDetailWithMaster(e)}),[]);return s.createElement("div",{className:E,ref:b},f&&s.createElement(ae,{className:P,...f,modules:S,rowData:g,setGridApi:M}))})),ce=class extends n.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:y,agGroupRowRenderer:y,agDetailCellRenderer:le},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,h||setTimeout((()=>h=!1),0),h=!0,r()):e();var r},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===p}},ue=class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return s.createElement(ae,{...this.props,setGridApi:this.setGridApi})}};function ie(e){const{setMethods:t}=(0,s.useContext)(v);t(e)}function de(e){ie(e)}function pe(e){return ie(e)}function me(e){return ie(e)}function he(e){ie(e)}function fe(e){ie(e)}}}]);