var beaker_vue;(function(){var e={71351:function(e,t,o){"use strict";o.r(t);var n=o(31601),l=o.n(n),r=o(76314),a=o.n(r),i=a()(l());i.push([e.id,".context-heading{color:var(--text-color-secondary);margin:1rem 1.25rem .25rem 1.25rem}.context-tree{margin-top:.5rem;flex:1;border:none;width:21rem;position:relative}.context-tree .p-tree{border:none}.context-tree .p-tree-wrapper{position:absolute;left:1rem;top:0;bottom:0;right:0}.context-tree .p-tree-wrapper .p-treenode .p-treenode-content{padding:0}.context-toggle-button{position:absolute;right:-.5rem;top:40%;background:var(--surface-a);border-color:var(--surface-300);color:var(--primary-300);z-index:2}.button-rotate{transform:rotate(180deg)}.loading-area{background:var(--surface-a);display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;left:0;right:0}.hidden{visibility:hidden}",""]),t["default"]=i},4253:function(e,t,o){"use strict";o.r(t);var n=o(31601),l=o.n(n),r=o(76314),a=o.n(r),i=a()(l());i.push([e.id,".notebook-container{display:flex;height:100%;max-width:100%}.beaker-notebook{flex:2 0 calc(50vw - 2px);border:2px solid var(--surface-border);border-radius:0;border-top:0;max-width:100%}.spacer.left{flex:1 1000 25vw}.spacer.right{flex:1 1 25vw}.notebook-toolbar{border-style:inset;border-radius:0;border-top:unset;border-left:unset;border-right:unset}.title-extra{vertical-align:baseline;display:inline-block;height:100%;font-family:Ubuntu Mono,Courier New,Courier,monospace}",""]),t["default"]=i},6818:function(e,t,o){"use strict";var n=o(45130),l=o(99119),r=o(18648),a=o(26883),i=o(8271),s=o(31577),d=o(98124),c=o(419),u=(o(44114),o(14603),o(47566),o(98721),o(56768)),v=o(90144),f=o(85029),p=o(68718),b=o(30130),k=o(56559),y=o(46030),m=o(21972),g=o(42775),h=o(56011),w=o(70387),x=o(24232),_=o(94329);const C={class:"info-panel-container"},A=(0,u.Lk)("div",{class:"loading-area"}," No Context Loaded. ",-1),R={style:{cursor:"help","border-bottom":"1px dotted var(--text-color-secondary)"}};var K=(0,u.pM)({__name:"InfoPanel",setup(e){(0,v.KR)(!0);const t=(0,v.KR)({0:!0,1:!0,2:!0,3:!0}),o=(0,u.WQ)("beakerSession"),n=(0,u.EW)((()=>{const e=o?.activeContext,t=o?.session.kernelInfo;return{...e,kernelInfo:t}})),l=(0,u.EW)((()=>{const e=n.value;if(!e)return[];const t=[{key:"0",label:"Kernel",icon:"pi pi-fw pi-cog",expanded:!0,children:[{key:"0-1",label:`${e?.info?.subkernel} (${e?.info?.language})`}]}];return t.push({key:"3",label:"Tools",icon:"pi pi-fw pi-wrench",expanded:!0,children:Object.keys(e?.info?.agent?.tools||{}).map(((t,o)=>({key:`3-${o}`,label:t.replace("PyPackageAgent.",""),data:e.info.agent.tools[t],type:"tool"})))}),t}));return(e,o)=>{const n=(0,u.gN)("tooltip");return(0,u.uX)(),(0,u.CE)("div",C,[(0,u.bF)((0,v.R1)(_.A),{value:l.value,loading:!l.value,expandedKeys:t.value,"onUpdate:expandedKeys":o[1]||(o[1]=e=>t.value=e)},{loadingicon:(0,u.k6)((()=>[A])),action:(0,u.k6)((e=>[(0,u.bo)(((0,u.uX)(),(0,u.CE)("div",{onMousedown:o[0]||(o[0]=e=>{e.detail>1&&e.preventDefault()}),style:{cursor:"pointer","border-bottom":"1px dotted var(--text-color-secondary)"}},[(0,u.eW)((0,x.v_)(e.node.label),1)],32)),[[n,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),tool:(0,u.k6)((e=>[(0,u.bo)(((0,u.uX)(),(0,u.CE)("span",R,[(0,u.eW)((0,x.v_)(e.node.label),1)])),[[n,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),_:1},8,["value","loading","expandedKeys"])])}}});o(7837);const M=K;var F=M,O=o(37707),j=o(18396),N=o(86520),S=o(99839),E=o(10461),I=o(79926),P=o(79733),W=o(63376);const T={class:"notebook-container"},B={class:"welcome-placeholder"},L={key:0,class:"spacer right"};var U=(0,u.pM)({__name:"NotebookInterface",props:["config","connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const t=(0,v.KR)(),o=(0,v.KR)(),n=(0,v.KR)(),l=(0,v.KR)(),r=new URLSearchParams(window.location.search),a=r.has("session")?r.get("session"):"notebook_dev_session",i=e,s=[...m.dn.map((e=>new f.hC(e))).map(y.ft),y.oH,y.En,y.nk],d={code:E.A,markdown:I.A,query:P.A,raw:W.A},c=(0,v.KR)("connecting"),x=(0,v.KR)([]),_=(0,v.KR)([]),C=(0,v.KR)(),A=((0,v.KR)(),(0,v.KR)(null)),R=(0,v.KR)(null),K=((0,v.KR)(!1),(0,v.KR)(!1)),{theme:M,toggleDarkMode:U}=((0,v.KR)(),(0,u.WQ)("theme")),X=((0,u.EW)((()=>(R.value,"Beaker Notebook"))),(0,u.EW)((()=>[{type:"link",href:`/chat${window.location.search}`,icon:"comment",label:"Navigate to chat view"},{type:"button",icon:"dark"===M.mode?"sun":"moon",command:U,label:`Switch to ${"dark"===M.mode?"light":"dark"} mode.`},{type:"link",href:"https://jataware.github.io/beaker-kernel",label:"Beaker Documentation",icon:"book",rel:"noopener",target:"_blank"},{type:"link",href:"https://github.com/jataware/beaker-kernel",label:"Check us out on Github",icon:"github",rel:"noopener",target:"_blank"}]))),$=(0,u.EW)((()=>o?.value?.beakerSession));(0,u.wB)((()=>t?.value?.notebook.cells),(e=>{0===e?.length&&t.value.insertCellBefore()}),{deep:!0});const z=e=>{"preview"===e.header.msg_type?C.value=e.content:"debug_event"===e.header.msg_type&&x.value.push({type:e.content.event,body:e.content.body,timestamp:e.header.date})},D=(e,t)=>{_.value.push({type:t,body:e,timestamp:e.header.date})},Q=e=>{console.log("Unhandled message recieved",e)},q=e=>{c.value="idle"==e?"connected":e},Y=(e,o)=>{const n=t.value;$.value?.session.loadNotebook(e),R.value=o;const l=n.notebook.cells.map((e=>e.id));l.includes(n.selectedCellId)||(0,u.dY)((()=>{n.selectCell(l[0])}))},G=async e=>{R.value=e,e&&(l.value?.selectPanel("Files"),await n.value.refresh(),await n.value.flashFile(e))},H=()=>{t.value?.selectPrevCell()},J=()=>{t.value?.selectNextCell()},V={},Z={"keydown.enter.ctrl.prevent.capture.in-cell":()=>{t.value?.selectedCell().execute(),t.value?.selectedCell().exit()},"keydown.enter.shift.prevent.capture.in-cell":()=>{const e=t.value?.selectedCell();e.execute(),t.value?.selectNextCell()||(t.value?.insertCellAfter(e,void 0,!0),(0,u.dY)((()=>{t.value?.selectedCell().enter()})))},"keydown.enter.exact.prevent.stop.!in-editor":()=>{t.value?.selectedCell().enter()},"keydown.esc.exact.prevent":()=>{t.value?.selectedCell().exit()},"keydown.up.!in-editor.prevent":H,"keydown.k.!in-editor":H,"keydown.down.!in-editor.prevent":J,"keydown.j.!in-editor":J,"keydown.a.prevent.!in-editor":e=>{const o=t.value;o?.selectedCell().exit(),o?.insertCellBefore()},"keydown.b.prevent.!in-editor":()=>{const e=t.value;e?.selectedCell().exit(),e?.insertCellAfter()},"keydown.d.!in-editor":()=>{const e=t.value,o=e.selectedCell(),n=()=>{delete V["d"]},l=V["d"];if(void 0===l){const e=setTimeout(n,1e3);V["d"]={cell_id:o.id,timeout:e}}else{const{cell_id:t,timeout:n}=V["d"];t===o.id&&(e?.removeCell(o),A.value=o.cell,delete V["d"]),n&&window.clearTimeout(n)}},"keydown.y.!in-editor":()=>{const e=t.value,o=e.selectedCell(),n=()=>{delete V["y"]},l=V["y"];if(void 0===l){const e=setTimeout(n,1e3);V["y"]={cell_id:o.id,timeout:e}}else{const{cell_id:e,timeout:t}=V["y"];e===o.id&&(A.value=o.cell,delete V["y"]),t&&window.clearTimeout(t)}},"keydown.p.!in-editor":e=>{const o=t.value;let n=(0,v.ux)(A.value);if(null!==n){const t=o.notebook.cells.map((e=>e.id));if(t.includes(n.id)){const e=n.constructor,t={...n,id:void 0,executionCount:void 0,busy:void 0,last_execution:void 0};n=new e(t)}"p"===e.key?o?.insertCellAfter(o.selectedCell(),n):"P"===e.key&&o?.insertCellBefore(o.selectedCell(),n),n.value=null}}};return(e,r)=>{const c=(0,u.gN)("autoscroll"),f=(0,u.gN)("keybindings");return(0,u.uX)(),(0,u.Wv)(h.A,{title:"Beaker Notebook","title-extra":R.value,"header-nav":X.value,ref_key:"beakerInterfaceRef",ref:o,connectionSettings:i.config,sessionName:"notebook_interface",defaultKernel:"beaker_kernel",sessionId:(0,v.R1)(a),renderers:s,savefile:R.value,onIopubMsg:z,onUnhandledMsg:Q,onAnyMsg:D,onSessionStatusChanged:q,onOpenFile:Y},{"left-panel":(0,u.k6)((()=>[(0,u.bF)(N.A,{ref_key:"sideMenuRef",ref:l,position:"left","show-label":!0,highlight:"line",expanded:!1,initialWidth:"25vi",maximized:K.value},{default:(0,u.k6)((()=>[(0,u.bF)(S.A,{label:"Info",icon:"pi pi-home"},{default:(0,u.k6)((()=>[(0,u.bF)(F)])),_:1}),(0,u.bF)(S.A,{id:"files",label:"Files",icon:"pi pi-file-export","no-overflow":""},{default:(0,u.k6)((()=>[(0,u.bF)(O.A,{ref_key:"filePanelRef",ref:n,onOpenFile:Y},null,512)])),_:1})])),_:1},8,["maximized"])])),default:(0,u.k6)((()=>[(0,u.Lk)("div",T,[(0,u.bo)(((0,u.uX)(),(0,u.Wv)(p.A,{ref_key:"beakerNotebookRef",ref:t,"cell-map":d},{default:(0,u.k6)((()=>[(0,u.bF)(b.A,{"default-severity":"",saveAvailable:!0,"save-as-filename":R.value,onNotebookSaved:G,onOpenFile:Y},{"end-extra":(0,u.k6)((()=>[(0,u.bF)((0,v.R1)(g.A),{onClick:r[0]||(r[0]=e=>{K.value=!K.value}),icon:"pi "+(K.value?"pi-window-minimize":"pi-window-maximize"),size:"small",text:""},null,8,["icon"])])),_:1},8,["save-as-filename"]),(0,u.bo)(((0,u.uX)(),(0,u.Wv)(k.A,{"selected-cell":t.value?.selectedCellId},{"notebook-background":(0,u.k6)((()=>[(0,u.Lk)("div",B,[(0,u.bF)(j.A)])])),_:1},8,["selected-cell"])),[[c]]),(0,u.bF)(w.A,{class:"agent-query-container"})])),_:1})),[[f,Z,void 0,{top:!0}]]),K.value?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("div",L))])])),_:1},8,["title-extra","header-nav","connectionSettings","sessionId","savefile"])}}});o(17251);const X=U;var $=X,z=(o(96153),o(17198),o(47997));const D=z.PageConfig.getBaseUrl();(async()=>{const e=z.URLExt.join(D,"/config"),t=await fetch(e),o=await t.json(),u=(0,n.Ef)($,{config:o});u.use(l.Ay),u.use(a.A),u.use(c.Ay),u.directive("tooltip",r.A),u.directive("focustrap",i.A),u.directive("keybindings",s.c),u.directive("autoscroll",d.n),u.mount("#app")})()},7837:function(e,t,o){var n=o(71351);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var l=o(68459).A;l("95e63384",n,!0,{sourceMap:!1,shadowMode:!1})},17251:function(e,t,o){var n=o(4253);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var l=o(68459).A;l("49e76164",n,!0,{sourceMap:!1,shadowMode:!1})}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={id:n,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,l,r){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],r=e[c][2];for(var i=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,l,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.j=57}(),function(){o.p="/"}(),function(){o.b=document.baseURI||self.location.href;var e={57:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,a=n[0],i=n[1],s=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var c=s(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504,996],(function(){return o(6818)}));n=o.O(n),beaker_vue=n})();
//# sourceMappingURL=index.376a009b.js.map