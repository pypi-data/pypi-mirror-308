[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"


[tool.setuptools.packages.find]
where = ["."]
include = ["sweepai*"]
exclude = [
    "tests*",
    "sdk*", 
    "benchmark*", 
    "docs*",
    "caches*",
]


[project.scripts]
sweep = "sweepai.__main__:main"
sweepai = "sweepai.__main__:main"

[project.urls]
Repository = "https://github.com/sweepai/sweep"
Community = "https://community.sweep.dev/"
Documentation = "https://docs.sweep.dev"
Homepage = "https://sweep.dev"
"Bug Tracker" = "https://github.com/sweepai/sweep/issues"

[project]
name = "sweepai"
version = "3.1.5"
description = "Sweep fixes GitHub issues"
authors = [
    {name = "Kevin Lu", email = "kevin@sweep.dev"},
    {name = "William Zeng", email = "william@sweep.dev"},
    {name = "Martin Ye", email = "martin@sweep.dev"},
]
readme = "README.md"
license = {file = "LICENSE"}
classifiers = [
    "Programming Language :: Python :: 3.10"
]
dependencies = [
  "anytree==2.12.1",
  "orjson==3.10.7",
  "diskcache==5.6.3",
  "anthropic==0.34.0",
  "chardet==5.2.0",
  "beautifulsoup4==4.12.3",
  "cohere==5.2.5",
  "typer==0.10.0",
  "pygithub==2.2.0",
  "apscheduler==3.10.4",
  "loguru==0.7.2",
  "rich==13.7.1",
  "fastapi==0.110.0",
  "prometheus-fastapi-instrumentator==7.0.0",
  "pyyaml==6.0.1",
  "python-dotenv==1.0.1",
  "openai==1.40.6",
  "backoff==2.2.1",
  "gitpython==3.1.42",
  "stringzilla==3.8.4",
  "tantivy==0.22.0",
  "tree-sitter==0.21.0",
  "tree-sitter-languages==1.10.2",
  "tree-sitter-go==0.21.1",
  "rapidfuzz==3.6.2",
  "importmagic==0.1.7",
  "pytz==2024.1",
  "beautifulsoup4==4.12.3",
  "networkx==3.2.1",
  "attrs==23.2.0",
  "pytest==8.1.1",
  "numpy==1.26.4",
  "pandas==2.2.2",
  "markdown==3.5.2",
  "yamllint==1.35.1",
  "logtail==1.0.1",
  "tabulate==0.9.0",
  "rapidfuzz==3.6.2",
  "resend==0.8.0",
  "psutil==5.9.8",
  "jinja2==3.1.4",
  "tiktoken==0.6.0",
  "uvicorn==0.29.0",
  "pylint==3.1.0",
  "voyageai==0.2.1",
  "boto3==1.34.70",
  "together==1.2.6",
  "mistralai==1.0.1",
  "scipy==1.12.0",
  "jira==3.8.0",
  "slack-sdk==3.27.1",
  "jsonpatch==1.33",
  "scikit-learn==1.4.2",
  "sentry-sdk==2.2.0",
  "api4jenkins==2.0.3",
  "pdbpp==0.10.3",
]

[tool.isort]
profile = "black"
line-length = 120

[tool.black]
line-length = 120

[tool.pylint.'MESSAGES CONTROL']

disable=[
  'no-name-in-module'
]

[tool.ruff.lint]
ignore=["F541", "E501"]
exclude=["experiments"]
extend-select = ["T100"]


[tool.pytest.ini_options]
# dev dependencies
# uv pip install ruff pytest pytest-cov pytest-sugar pytest-mock pytest-xdist pyperclip==1.9.0
# Also requires https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters
# dist=loadfile makes each file run in its own process
# add capture=no when running pytest to avoid pytest from capturing stdout in breakpoints
addopts = "tests --capture=no --ignore=tests/scripts --ignore=tests/e2e --ignore=tests/mock_repo --ignore=caches --cov=sweepai --cov-report lcov:lcov.info"
filterwarnings = [
    "ignore:Jupyter is migrating its paths:DeprecationWarning",
    "ignore:Support for class-based `config` is deprecated:DeprecationWarning"
]
