# This file was auto generated by Styx.
# Do not edit this file directly.

import typing
import pathlib
from styxdefs import *
import dataclasses

V_3D_LME_METADATA = Metadata(
    id="55c6778eace87b7e1ae56e342faa35268707bee1.boutiques",
    name="3dLME",
    package="afni",
    container_image_tag="afni/afni_make_build:AFNI_24.2.06",
)


class V3dLmeOutputs(typing.NamedTuple):
    """
    Output object returned when calling `v_3d_lme(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    output_nifti: OutputPathType
    """Output file in NIfTI format"""


def v_3d_lme(
    prefix: str,
    model: str,
    data_table: str,
    bounds: list[float] | None = None,
    cio_flag: bool = False,
    cor_str: str | None = None,
    cutoff: float | None = None,
    dbg_args_flag: bool = False,
    jobs: float | None = None,
    glt_code: str | None = None,
    glt_label: str | None = None,
    glf_label: str | None = None,
    glf_code: str | None = None,
    icc_flag: bool = False,
    iccb_flag: bool = False,
    log_lik_flag: bool = False,
    logit_flag: bool = False,
    ml_flag: bool = False,
    qvars_centers: str | None = None,
    qvars: str | None = None,
    raneff: str | None = None,
    mask: InputPathType | None = None,
    num_glf: float | None = None,
    num_glt: float | None = None,
    resid: str | None = None,
    re_: str | None = None,
    reprefix: str | None = None,
    rio_flag: bool = False,
    show_options_flag: bool = False,
    ss_type: float | None = None,
    runner: Runner | None = None,
) -> V3dLmeOutputs:
    """
    AFNI Group Analysis Program with Linear Mixed-Effects Modeling Approach.
    
    Author: AFNI Developers
    
    URL: https://afni.nimh.nih.gov/
    
    Args:
        prefix: Prefix for output files.
        model: Model formula describing the fixed effects.
        data_table: Data table description.
        bounds: Lower and upper bounds for outlier removal.
        cio_flag: Use AFNI's C io functions (default) or R's io functions with\
            -Rio.
        cor_str: Specify the correlation structure of the residuals.
        cutoff: Specify the cutoff value for accuracy in logistic regression\
            analysis.
        dbg_args_flag: Enable saving parameters for debugging.
        jobs: Number of jobs for parallel computing.
        glt_code: General linear test coding.
        glt_label: Label for general linear test.
        glf_label: Label for general linear F-test.
        glf_code: General linear F-test coding.
        icc_flag: Compute voxel-wise intra-class correlation.
        iccb_flag: Compute voxel-wise intra-class correlation with Bayesian\
            approach.
        log_lik_flag: Include voxel-wise log likelihood in the output.
        logit_flag: Perform voxel-wise logistic modeling.
        ml_flag: Use Maximum Likelihood estimation instead of REML.
        qvars_centers: Centering values for quantitative variables.
        qvars: Identify quantitative variables (or covariates).
        raneff: Specify the random effects.
        mask: Mask file for voxel processing.
        num_glf: Number of general linear F-tests.
        num_glt: Number of general linear t-tests.
        resid: Prefix for residuals output file.
        re_: List of variables whose random effects are saved in the output.
        reprefix: Prefix for random effects output file.
        rio_flag: Use R's io functions instead of AFNI's C io functions.
        show_options_flag: List of allowed options.
        ss_type: Specify the type for sums of squares in the F-statistics.
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `V3dLmeOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(V_3D_LME_METADATA)
    cargs = []
    cargs.append("3dLME")
    cargs.append("-prefix")
    cargs.append(prefix)
    cargs.append("-model")
    cargs.append(model)
    cargs.append("-dataTable")
    cargs.append(data_table)
    cargs.append("-bounds")
    if bounds is not None:
        cargs.extend(map(str, bounds))
    cargs.append("-cio")
    if cio_flag:
        cargs.append("-cio")
    cargs.append("-corStr")
    if cor_str is not None:
        cargs.append(cor_str)
    cargs.append("-cutoff")
    if cutoff is not None:
        cargs.append(str(cutoff))
    cargs.append("-dbgArgs")
    if dbg_args_flag:
        cargs.append("-dbgArgs")
    cargs.append("-jobs")
    if jobs is not None:
        cargs.append(str(jobs))
    cargs.append("-gltCode")
    if glt_code is not None:
        cargs.append(glt_code)
    cargs.append("-gltLabel")
    if glt_label is not None:
        cargs.append(glt_label)
    cargs.append("-glfLabel")
    if glf_label is not None:
        cargs.append(glf_label)
    cargs.append("-glfCode")
    if glf_code is not None:
        cargs.append(glf_code)
    cargs.append("-ICC")
    if icc_flag:
        cargs.append("-ICC")
    cargs.append("-ICCb")
    if iccb_flag:
        cargs.append("-ICCb")
    cargs.append("-logLik")
    if log_lik_flag:
        cargs.append("-logLik")
    cargs.append("-LOGIT")
    if logit_flag:
        cargs.append("-LOGIT")
    cargs.append("-ml")
    if ml_flag:
        cargs.append("-ML")
    cargs.append("-qVarsCenters")
    if qvars_centers is not None:
        cargs.append(qvars_centers)
    cargs.append("-qVars")
    if qvars is not None:
        cargs.append(qvars)
    cargs.append("-ranEff")
    if raneff is not None:
        cargs.append(raneff)
    cargs.append("-mask")
    if mask is not None:
        cargs.append(execution.input_file(mask))
    cargs.append("-num_glf")
    if num_glf is not None:
        cargs.append(str(num_glf))
    cargs.append("-num_glt")
    if num_glt is not None:
        cargs.append(str(num_glt))
    cargs.append("-resid")
    if resid is not None:
        cargs.append(resid)
    cargs.append("-RE")
    if re_ is not None:
        cargs.append(re_)
    cargs.append("-REprefix")
    if reprefix is not None:
        cargs.append(reprefix)
    cargs.append("-RIO")
    if rio_flag:
        cargs.append("-Rio")
    cargs.append("-show_allowed_options")
    if show_options_flag:
        cargs.append("-show_allowed_options")
    cargs.append("-SS_type")
    if ss_type is not None:
        cargs.append(str(ss_type))
    ret = V3dLmeOutputs(
        root=execution.output_file("."),
        output_nifti=execution.output_file(prefix + ".nii"),
    )
    execution.run(cargs)
    return ret


__all__ = [
    "V3dLmeOutputs",
    "V_3D_LME_METADATA",
    "v_3d_lme",
]
